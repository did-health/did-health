import{c as H,a as fn,B as G,d as br,i as De,e as mr,f as gn,h as Ua,j as ne,k as gu,g as pu}from"./index-ChGYbuAU.js";import{p as bu,a as mu,h as _u}from"./hooks.module-C9SfKyAE.js";var Wa={},hr={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.walletLogo=void 0;const yu=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};pn.walletLogo=yu;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.LINK_API_URL=void 0;bn.LINK_API_URL="https://www.walletlink.org";var O={},_r={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.errorValues=tt.standardErrorCodes=void 0;tt.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};tt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var mn={},_n={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=tt,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(d,b=r){if(d&&Number.isInteger(d)){const E=d.toString();if(u(t.errorValues,E))return t.errorValues[E].message;if(c(d))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return b}e.getMessageFromCode=n;function s(d){if(!Number.isInteger(d))return!1;const b=d.toString();return!!(t.errorValues[b]||c(d))}e.isValidCode=s;function i(d){var b;if(typeof d=="number")return d;if(o(d))return(b=d.code)!==null&&b!==void 0?b:d.errorCode}e.getErrorCode=i;function o(d){return typeof d=="object"&&d!==null&&(typeof d.code=="number"||typeof d.errorCode=="number")}function a(d,{shouldIncludeStack:b=!1}={}){const E={};if(d&&typeof d=="object"&&!Array.isArray(d)&&u(d,"code")&&s(d.code)){const _=d;E.code=_.code,_.message&&typeof _.message=="string"?(E.message=_.message,u(_,"data")&&(E.data=_.data)):(E.message=n(E.code),E.data={originalError:l(d)})}else E.code=t.standardErrorCodes.rpc.internal,E.message=h(d,"message")?d.message:r,E.data={originalError:l(d)};return b&&(E.stack=h(d,"stack")?d.stack:void 0),E}e.serialize=a;function c(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function u(d,b){return Object.prototype.hasOwnProperty.call(d,b)}function h(d,b){return typeof d=="object"&&d!==null&&b in d&&typeof d[b]=="string"}})(_n);Object.defineProperty(mn,"__esModule",{value:!0});mn.standardErrors=void 0;const ye=tt,Va=_n;mn.standardErrors={rpc:{parse:e=>Me(ye.standardErrorCodes.rpc.parse,e),invalidRequest:e=>Me(ye.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>Me(ye.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>Me(ye.standardErrorCodes.rpc.methodNotFound,e),internal:e=>Me(ye.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Me(t,e)},invalidInput:e=>Me(ye.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>Me(ye.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Me(ye.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Me(ye.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Me(ye.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Me(ye.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Nt(ye.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>Nt(ye.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>Nt(ye.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>Nt(ye.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>Nt(ye.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>Nt(ye.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ga(t,r,n)}}};function Me(e,t){const[r,n]=za(t);return new qa(e,r||(0,Va.getMessageFromCode)(e),n)}function Nt(e,t){const[r,n]=za(t);return new Ga(e,r||(0,Va.getMessageFromCode)(e),n)}function za(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}let qa=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},Ga=class extends qa{constructor(t,r,n){if(!wu(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function wu(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}var yn={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isErrorResponse=void 0;function vu(e){return e.errorMessage!==void 0}Qt.isErrorResponse=vu;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.LIB_VERSION=void 0;Yt.LIB_VERSION="3.9.3";Object.defineProperty(yn,"__esModule",{value:!0});yn.serializeError=void 0;const Eu=Qt,Su=Yt,Ru=tt,Cu=_n;function ku(e,t){const r=(0,Cu.serialize)(Iu(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",Su.LIB_VERSION),n.searchParams.set("code",r.code.toString());const s=Au(r.data,t);return s&&n.searchParams.set("method",s),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}yn.serializeError=ku;function Iu(e){return typeof e=="string"?{message:e,code:Ru.standardErrorCodes.rpc.internal}:(0,Eu.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function Au(e,t){const r=e?.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=tt;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=mn;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=yn;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const s=_n;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return s.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}})})(_r);var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.ProviderType=pe.RegExpString=pe.IntNumber=pe.BigIntString=pe.AddressString=pe.HexString=pe.OpaqueType=void 0;function yr(){return e=>e}pe.OpaqueType=yr;pe.HexString=yr();pe.AddressString=yr();pe.BigIntString=yr();function Tu(e){return Math.floor(e)}pe.IntNumber=Tu;pe.RegExpString=yr();var vo;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(vo||(pe.ProviderType=vo={}));var Mu=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(O,"__esModule",{value:!0});O.isMobileWeb=O.getLocation=O.isInIFrame=O.createQrUrl=O.getFavicon=O.range=O.isBigNumber=O.ensureParsedJSONObject=O.ensureBN=O.ensureRegExpString=O.ensureIntNumber=O.ensureBuffer=O.ensureAddressString=O.ensureEvenLengthHexString=O.ensureHexString=O.isHexString=O.prepend0x=O.strip0x=O.has0xPrefix=O.hexStringFromIntNumber=O.intNumberFromHexString=O.bigIntStringFromBN=O.hexStringFromBuffer=O.hexStringToUint8Array=O.uint8ArrayToHex=O.randomBytesHex=void 0;const ot=Mu(fn),Et=_r,Oe=pe,Ja=/^[0-9]*$/,Za=/^[a-f0-9]*$/;function Nu(e){return Ka(crypto.getRandomValues(new Uint8Array(e)))}O.randomBytesHex=Nu;function Ka(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}O.uint8ArrayToHex=Ka;function xu(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}O.hexStringToUint8Array=xu;function Lu(e,t=!1){const r=e.toString("hex");return(0,Oe.HexString)(t?`0x${r}`:r)}O.hexStringFromBuffer=Lu;function Ou(e){return(0,Oe.BigIntString)(e.toString(10))}O.bigIntStringFromBN=Ou;function Pu(e){return(0,Oe.IntNumber)(new ot.default(vr(e,!1),16).toNumber())}O.intNumberFromHexString=Pu;function $u(e){return(0,Oe.HexString)(`0x${new ot.default(e).toString(16)}`)}O.hexStringFromIntNumber=$u;function Ui(e){return e.startsWith("0x")||e.startsWith("0X")}O.has0xPrefix=Ui;function wn(e){return Ui(e)?e.slice(2):e}O.strip0x=wn;function Qa(e){return Ui(e)?`0x${e.slice(2)}`:`0x${e}`}O.prepend0x=Qa;function wr(e){if(typeof e!="string")return!1;const t=wn(e).toLowerCase();return Za.test(t)}O.isHexString=wr;function Ya(e,t=!1){if(typeof e=="string"){const r=wn(e).toLowerCase();if(Za.test(r))return(0,Oe.HexString)(t?`0x${r}`:r)}throw Et.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}O.ensureHexString=Ya;function vr(e,t=!1){let r=Ya(e,!1);return r.length%2===1&&(r=(0,Oe.HexString)(`0${r}`)),t?(0,Oe.HexString)(`0x${r}`):r}O.ensureEvenLengthHexString=vr;function Bu(e){if(typeof e=="string"){const t=wn(e).toLowerCase();if(wr(t)&&t.length===40)return(0,Oe.AddressString)(Qa(t))}throw Et.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}O.ensureAddressString=Bu;function Fu(e){if(G.isBuffer(e))return e;if(typeof e=="string"){if(wr(e)){const t=vr(e,!1);return G.from(t,"hex")}return G.from(e,"utf8")}throw Et.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}O.ensureBuffer=Fu;function Xa(e){if(typeof e=="number"&&Number.isInteger(e))return(0,Oe.IntNumber)(e);if(typeof e=="string"){if(Ja.test(e))return(0,Oe.IntNumber)(Number(e));if(wr(e))return(0,Oe.IntNumber)(new ot.default(vr(e,!1),16).toNumber())}throw Et.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}O.ensureIntNumber=Xa;function Du(e){if(e instanceof RegExp)return(0,Oe.RegExpString)(e.toString());throw Et.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}O.ensureRegExpString=Du;function ju(e){if(e!==null&&(ot.default.isBN(e)||ec(e)))return new ot.default(e.toString(10),10);if(typeof e=="number")return new ot.default(Xa(e));if(typeof e=="string"){if(Ja.test(e))return new ot.default(e,10);if(wr(e))return new ot.default(vr(e,!1),16)}throw Et.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}O.ensureBN=ju;function Hu(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw Et.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}O.ensureParsedJSONObject=Hu;function ec(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}O.isBigNumber=ec;function Uu(e,t){return Array.from({length:t-e},(r,n)=>e+n)}O.range=Uu;function Wu(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}O.getFavicon=Wu;function Vu(e,t,r,n,s,i){const o=n?"parent-id":"id",a=new URLSearchParams({[o]:e,secret:t,server:r,v:s,chainId:i.toString()}).toString();return`${r}/#/link?${a}`}O.createQrUrl=Vu;function tc(){try{return window.frameElement!==null}catch{return!1}}O.isInIFrame=tc;function zu(){try{return tc()&&window.top?window.top.location:window.location}catch{return window.location}}O.getLocation=zu;function qu(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window?.navigator)===null||e===void 0?void 0:e.userAgent)}O.isMobileWeb=qu;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.ScopedLocalStorage=void 0;class Gu{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);typeof s=="string"&&s.startsWith(t)&&r.push(s)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}vn.ScopedLocalStorage=Gu;var Wt={},Er={},Sr={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.EVENTS=void 0;Xt.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.RelayAbstract=Le.APP_VERSION_KEY=Le.LOCAL_STORAGE_ADDRESSES_KEY=Le.WALLET_USER_NAME_KEY=void 0;const Eo=_r;Le.WALLET_USER_NAME_KEY="walletUsername";Le.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Le.APP_VERSION_KEY="AppVersion";class Ju{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Eo.standardErrors.rpc.parse({});const s=n,{error:i}=s;if(i)throw(0,Eo.serializeError)(i,t.method);return s})}}Le.RelayAbstract=Ju;var er={},rc={exports:{}},Ni={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=br,n=r.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=i);function i(o,a,c){return n(o,a,c)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Ni,Ni.exports);var St=Ni.exports,nc=St.Buffer;function En(e,t){this._block=nc.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}En.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=nc.from(e,t));for(var r=this._block,n=this._blockSize,s=e.length,i=this._len,o=0;o<s;){for(var a=i%n,c=Math.min(s-o,n-a),l=0;l<c;l++)r[a+l]=e[o+l];i+=c,o+=c,i%n===0&&this._update(r)}return this._len+=s,this};En.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,s=(r-n)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};En.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var tr=En,Zu=De,sc=tr,Ku=St.Buffer,Qu=[1518500249,1859775393,-1894007588,-899497514],Yu=new Array(80);function Rr(){this.init(),this._w=Yu,sc.call(this,64,56)}Zu(Rr,sc);Rr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xu(e){return e<<5|e>>>27}function ed(e){return e<<30|e>>>2}function td(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Rr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var c=0;c<80;++c){var l=~~(c/20),u=Xu(r)+td(l,n,s,i)+o+t[c]+Qu[l]|0;o=i,i=s,s=ed(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0};Rr.prototype._hash=function(){var e=Ku.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var rd=Rr,nd=De,ic=tr,sd=St.Buffer,id=[1518500249,1859775393,-1894007588,-899497514],od=new Array(80);function Cr(){this.init(),this._w=od,ic.call(this,64,56)}nd(Cr,ic);Cr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ad(e){return e<<1|e>>>31}function cd(e){return e<<5|e>>>27}function ld(e){return e<<30|e>>>2}function ud(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Cr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=ad(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),u=cd(r)+ud(l,n,s,i)+o+t[c]+id[l]|0;o=i,i=s,s=ld(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0};Cr.prototype._hash=function(){var e=sd.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var dd=Cr,hd=De,oc=tr,fd=St.Buffer,gd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],pd=new Array(64);function kr(){this.init(),this._w=pd,oc.call(this,64,56)}hd(kr,oc);kr.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function bd(e,t,r){return r^e&(t^r)}function md(e,t,r){return e&t|r&(e|t)}function _d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function yd(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function wd(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function vd(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}kr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<64;++u)t[u]=vd(t[u-2])+t[u-7]+wd(t[u-15])+t[u-16]|0;for(var h=0;h<64;++h){var d=l+yd(o)+bd(o,a,c)+gd[h]+t[h]|0,b=_d(r)+md(r,n,s)|0;l=c,c=a,a=o,o=i+d|0,i=s,s=n,n=r,r=d+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};kr.prototype._hash=function(){var e=fd.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var ac=kr,Ed=De,Sd=ac,Rd=tr,Cd=St.Buffer,kd=new Array(64);function Sn(){this.init(),this._w=kd,Rd.call(this,64,56)}Ed(Sn,Sd);Sn.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sn.prototype._hash=function(){var e=Cd.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var Id=Sn,Ad=De,cc=tr,Td=St.Buffer,So=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Md=new Array(160);function Ir(){this.init(),this._w=Md,cc.call(this,128,112)}Ad(Ir,cc);Ir.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ro(e,t,r){return r^e&(t^r)}function Co(e,t,r){return e&t|r&(e|t)}function ko(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Io(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Nd(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function xd(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Ld(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Od(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function me(e,t){return e>>>0<t>>>0?1:0}Ir.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,s=this._ch|0,i=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,u=this._al|0,h=this._bl|0,d=this._cl|0,b=this._dl|0,E=this._el|0,_=this._fl|0,S=this._gl|0,p=this._hl|0,m=0;m<32;m+=2)t[m]=e.readInt32BE(m*4),t[m+1]=e.readInt32BE(m*4+4);for(;m<160;m+=2){var y=t[m-30],C=t[m-15*2+1],R=Nd(y,C),T=xd(C,y);y=t[m-2*2],C=t[m-2*2+1];var U=Ld(y,C),B=Od(C,y),P=t[m-7*2],Y=t[m-7*2+1],ce=t[m-16*2],ie=t[m-16*2+1],oe=T+Y|0,M=R+P+me(oe,T)|0;oe=oe+B|0,M=M+U+me(oe,B)|0,oe=oe+ie|0,M=M+ce+me(oe,ie)|0,t[m]=M,t[m+1]=oe}for(var I=0;I<160;I+=2){M=t[I],oe=t[I+1];var $=Co(r,n,s),x=Co(u,h,d),F=ko(r,u),L=ko(u,r),j=Io(o,E),K=Io(E,o),W=So[I],Q=So[I+1],he=Ro(o,a,c),re=Ro(E,_,S),w=p+K|0,v=l+j+me(w,p)|0;w=w+re|0,v=v+he+me(w,re)|0,w=w+Q|0,v=v+W+me(w,Q)|0,w=w+oe|0,v=v+M+me(w,oe)|0;var A=L+x|0,D=F+$+me(A,L)|0;l=c,p=S,c=a,S=_,a=o,_=E,E=b+w|0,o=i+v+me(E,b)|0,i=s,b=d,s=n,d=h,n=r,h=u,u=w+A|0,r=v+D+me(u,w)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+d|0,this._dl=this._dl+b|0,this._el=this._el+E|0,this._fl=this._fl+_|0,this._gl=this._gl+S|0,this._hl=this._hl+p|0,this._ah=this._ah+r+me(this._al,u)|0,this._bh=this._bh+n+me(this._bl,h)|0,this._ch=this._ch+s+me(this._cl,d)|0,this._dh=this._dh+i+me(this._dl,b)|0,this._eh=this._eh+o+me(this._el,E)|0,this._fh=this._fh+a+me(this._fl,_)|0,this._gh=this._gh+c+me(this._gl,S)|0,this._hh=this._hh+l+me(this._hl,p)|0};Ir.prototype._hash=function(){var e=Td.allocUnsafe(64);function t(r,n,s){e.writeInt32BE(r,s),e.writeInt32BE(n,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var lc=Ir,Pd=De,$d=lc,Bd=tr,Fd=St.Buffer,Dd=new Array(160);function Rn(){this.init(),this._w=Dd,Bd.call(this,128,112)}Pd(Rn,$d);Rn.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Rn.prototype._hash=function(){var e=Fd.allocUnsafe(48);function t(r,n,s){e.writeInt32BE(r,s),e.writeInt32BE(n,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var jd=Rn,Rt=rc.exports=function(t){t=t.toLowerCase();var r=Rt[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};Rt.sha=rd;Rt.sha1=dd;Rt.sha224=Id;Rt.sha256=ac;Rt.sha384=jd;Rt.sha512=lc;var Hd=rc.exports;Object.defineProperty(er,"__esModule",{value:!0});er.Session=void 0;const Ao=Hd,To=O,Mo="session:id",No="session:secret",xo="session:linked";class Wi{constructor(t,r,n,s){this._storage=t,this._id=r||(0,To.randomBytesHex)(16),this._secret=n||(0,To.randomBytesHex)(32),this._key=new Ao.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!s}static load(t){const r=t.getItem(Mo),n=t.getItem(xo),s=t.getItem(No);return r&&s?new Wi(t,r,s,n==="1"):null}static hash(t){return new Ao.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Mo,this._id),this._storage.setItem(No,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(xo,this._linked?"1":"0")}}er.Session=Wi;var Cn={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.Cipher=void 0;const zr=O;class Ud{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.importKey("raw",(0,zr.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,i.encode(t)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),u=new Uint8Array(c),h=new Uint8Array(l),d=new Uint8Array([...n,...u,...h]);return(0,zr.uint8ArrayToHex)(d)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,s)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,zr.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,zr.hexStringToUint8Array)(t),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),u=new Uint8Array([...l,...c]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const d=await window.crypto.subtle.decrypt(h,i,u),b=new TextDecoder;n(b.decode(d))}catch(d){s(d)}})()})}}kn.Cipher=Ud;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.WalletLinkHTTP=void 0;class Wd{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const s=`${r}:${n}`;this.auth=`Basic ${btoa(s)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:s}=await r.json();if(s)throw new Error(`Check unseen events failed: ${s}`);const i=(t=n?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(i),i}throw new Error(`Check unseen events failed: ${r.status}`)}}In.WalletLinkHTTP=Wd;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.WalletLinkWebSocket=Vt.ConnectionState=void 0;var Ft;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(Ft||(Vt.ConnectionState=Ft={}));class Vd{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(i){r(i);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Ft.CONNECTING),s.onclose=i=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${i.code}: ${i.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Ft.DISCONNECTED)},s.onopen=i=>{var o;t(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Ft.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},s.onmessage=i=>{var o,a;if(i.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(i.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,Ft.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}Vt.WalletLinkWebSocket=Vd;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.WalletLinkConnection=void 0;const xt=pe,zd=kn,Ue=Xt,Lo=Le,Lt=er,qd=In,qr=Vt,Oo=1e4,Gd=6e4;class Jd{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:s,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,xt.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",l=>a.JsonRpcUrl&&this.handleChainUpdated(l,a.JsonRpcUrl)]]).forEach((l,u)=>{const h=a[u];h!==void 0&&l(h)})},this.handleDestroyed=a=>{var c,l;a==="1"&&((c=this.listener)===null||c===void 0||c.resetAndReload(),(l=this.diagnostic)===null||l===void 0||l.log(Ue.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Lt.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var c,l;try{const u=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.accountUpdated(u)}catch{(l=this.diagnostic)===null||l===void 0||l.log(Ue.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,c)=>{var l,u;try{const h=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.metadataUpdated(a,h)}catch{(u=this.diagnostic)===null||u===void 0||u.log(Ue.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(Lo.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(Lo.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,c)=>{var l,u;try{const h=await this.cipher.decrypt(a),d=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.chainUpdated(h,d)}catch{(u=this.diagnostic)===null||u===void 0||u.log(Ue.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new zd.Cipher(t.secret),this.diagnostic=s,this.listener=n;const o=new qr.WalletLinkWebSocket(`${r}/rpc`,i);o.setConnectionStateListener(async a=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(Ue.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Lt.Session.hash(t.id)});let l=!1;switch(a){case qr.ConnectionState.DISCONNECTED:if(!this.destroyed){const u=async()=>{await new Promise(h=>setTimeout(h,5e3)),this.destroyed||o.connect().catch(()=>{u()})};u()}break;case qr.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),l=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Oo),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case qr.ConnectionState.CONNECTING:break}this.connected!==l&&(this.connected=l)}),o.setIncomingDataListener(a=>{var c,l,u;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const h=a.type==="IsLinkedOK"?a.linked:void 0;(c=this.diagnostic)===null||c===void 0||c.log(Ue.EVENTS.LINKED,{sessionIdHash:Lt.Session.hash(t.id),linked:h,type:a.type,onlineGuests:a.onlineGuests}),this.linked=h||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(l=this.diagnostic)===null||l===void 0||l.log(Ue.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Lt.Session.hash(t.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((u=this.requestResolutions.get(a.id))===null||u===void 0||u(a))}),this.ws=o,this.http=new qd.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(Ue.EVENTS.STARTED_CONNECTING,{sessionIdHash:Lt.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(Ue.EVENTS.DISCONNECTED,{sessionIdHash:Lt.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{const s=await this.cipher.decrypt(t.data),i=JSON.parse(s);if(i.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(i)}catch{(n=this.diagnostic)===null||n===void 0||n.log(Ue.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,xt.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const s=await this.makeRequest(n);if(s.type==="Fail")throw new Error(s.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:(0,xt.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:s,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(i);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Oo*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=Gd){const n=t.id;this.sendData(t);let s;return Promise.race([new Promise((i,o)=>{s=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(i=>{this.requestResolutions.set(n,o=>{clearTimeout(s),i(o),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,xt.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,xt.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,xt.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}Cn.WalletLinkConnection=Jd;var Ar={},Tr={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Zd=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.injectCssReset=void 0;const Kd=Zd(Vi);function Qd(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(Kd.default)),document.documentElement.appendChild(e)}Tr.injectCssReset=Qd;var An={};const Ce=mr(bu);var Tn={};const Mr=mr(mu),Mn=mr(_u);var zt={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.CloseIcon=void 0;const Po=Ce;function Yd(e){return(0,Po.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Po.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Nn.CloseIcon=Yd;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.CoinbaseWalletRound=void 0;const Gr=Ce;function Xd(e){return(0,Gr.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Gr.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,Gr.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,Gr.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}xn.CoinbaseWalletRound=Xd;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.QRCodeIcon=void 0;const cr=Ce;function eh(e){return(0,cr.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,cr.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,cr.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,cr.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,cr.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}Ln.QRCodeIcon=eh;var On={};function uc(e){this.mode=Ae.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],s=this.data.charCodeAt(t);s>65536?(n[0]=240|(s&1835008)>>>18,n[1]=128|(s&258048)>>>12,n[2]=128|(s&4032)>>>6,n[3]=128|s&63):s>2048?(n[0]=224|(s&61440)>>>12,n[1]=128|(s&4032)>>>6,n[2]=128|s&63):s>128?(n[0]=192|(s&1984)>>>6,n[1]=128|s&63):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}uc.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Je(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Je.prototype={addData:function(e){var t=new uc(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Je.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ue.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*s,a=0;a<this.modules[i].length;a++){var c=a*s,l=this.modules[i][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+s,o),n.lineTo(c+s,o+s),n.lineTo(c,o+s),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=ue.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)i==-2||i==2||o==-2||o==2||i==0&&o==0?this.modules[n+i][s+o]=!0:this.modules[n+i][s+o]=!1}},setupTypeNumber:function(e){for(var t=ue.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=ue.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;i<e.length&&(c=(e[i]>>>s&1)==1);var l=ue.getMask(t,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Je.PAD0=236;Je.PAD1=17;Je.createData=function(e,t,r){for(var n=Ge.getRSBlocks(e,t),s=new dc,i=0;i<r.length;i++){var o=r[i];s.put(o.mode,4),s.put(o.getLength(),ue.getLengthInBits(o.mode,e)),o.write(s)}for(var a=0,i=0;i<n.length;i++)a+=n[i].dataCount;if(s.getLengthInBits()>a*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+a*8+")");for(s.getLengthInBits()+4<=a*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=a*8||(s.put(Je.PAD0,8),s.getLengthInBits()>=a*8));)s.put(Je.PAD1,8);return Je.createBytes(s,n)};Je.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,l=t[a].totalCount-c;n=Math.max(n,c),s=Math.max(s,l),i[a]=new Array(c);for(var u=0;u<i[a].length;u++)i[a][u]=255&e.buffer[u+r];r+=c;var h=ue.getErrorCorrectPolynomial(l),d=new Dt(i[a],h.getLength()-1),b=d.mod(h);o[a]=new Array(h.getLength()-1);for(var u=0;u<o[a].length;u++){var E=u+b.getLength()-o[a].length;o[a][u]=E>=0?b.get(E):0}}for(var _=0,u=0;u<t.length;u++)_+=t[u].totalCount;for(var S=new Array(_),p=0,u=0;u<n;u++)for(var a=0;a<t.length;a++)u<i[a].length&&(S[p++]=i[a][u]);for(var u=0;u<s;u++)for(var a=0;a<t.length;a++)u<o[a].length&&(S[p++]=o[a][u]);return S};var Ae={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},at={L:1,M:0,Q:3,H:2},st={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ue={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;ue.getBCHDigit(t)-ue.getBCHDigit(ue.G15)>=0;)t^=ue.G15<<ue.getBCHDigit(t)-ue.getBCHDigit(ue.G15);return(e<<10|t)^ue.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;ue.getBCHDigit(t)-ue.getBCHDigit(ue.G18)>=0;)t^=ue.G18<<ue.getBCHDigit(t)-ue.getBCHDigit(ue.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return ue.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case st.PATTERN000:return(t+r)%2==0;case st.PATTERN001:return t%2==0;case st.PATTERN010:return r%3==0;case st.PATTERN011:return(t+r)%3==0;case st.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case st.PATTERN101:return t*r%2+t*r%3==0;case st.PATTERN110:return(t*r%2+t*r%3)%2==0;case st.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Dt([1],0),r=0;r<e;r++)t=t.multiply(new Dt([1,_e.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ae.MODE_NUMBER:return 10;case Ae.MODE_ALPHA_NUM:return 9;case Ae.MODE_8BIT_BYTE:return 8;case Ae.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ae.MODE_NUMBER:return 12;case Ae.MODE_ALPHA_NUM:return 11;case Ae.MODE_8BIT_BYTE:return 16;case Ae.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ae.MODE_NUMBER:return 14;case Ae.MODE_ALPHA_NUM:return 13;case Ae.MODE_8BIT_BYTE:return 16;case Ae.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,o=e.isDark(n,s),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var c=-1;c<=1;c++)s+c<0||t<=s+c||a==0&&c==0||o==e.isDark(n+a,s+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var l=0;e.isDark(n,s)&&l++,e.isDark(n+1,s)&&l++,e.isDark(n,s+1)&&l++,e.isDark(n+1,s+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var u=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&u++;var h=Math.abs(100*u/t/t-50)/5;return r+=h*10,r}},_e={glog:function(e){if(e<1)throw new Error("glog("+e+")");return _e.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return _e.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var we=0;we<8;we++)_e.EXP_TABLE[we]=1<<we;for(var we=8;we<256;we++)_e.EXP_TABLE[we]=_e.EXP_TABLE[we-4]^_e.EXP_TABLE[we-5]^_e.EXP_TABLE[we-6]^_e.EXP_TABLE[we-8];for(var we=0;we<255;we++)_e.LOG_TABLE[_e.EXP_TABLE[we]]=we;function Dt(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Dt.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=_e.gexp(_e.glog(this.get(r))+_e.glog(e.get(n)));return new Dt(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=_e.glog(this.get(0))-_e.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=_e.gexp(_e.glog(e.get(n))+t);return new Dt(r,0).mod(e)}};function Ge(e,t){this.totalCount=e,this.dataCount=t}Ge.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ge.getRSBlocks=function(e,t){var r=Ge.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=[],i=0;i<n;i++)for(var o=r[i*3+0],a=r[i*3+1],c=r[i*3+2],l=0;l<o;l++)s.push(new Ge(a,c));return s};Ge.getRsBlockTable=function(e,t){switch(t){case at.L:return Ge.RS_BLOCK_TABLE[(e-1)*4+0];case at.M:return Ge.RS_BLOCK_TABLE[(e-1)*4+1];case at.Q:return Ge.RS_BLOCK_TABLE[(e-1)*4+2];case at.H:return Ge.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function dc(){this.buffer=[],this.length=0}dc.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var si=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function hc(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return at.L;case"M":return at.M;case"Q":return at.Q;case"H":return at.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var u=s(c),h=1,d=0,b=0,E=si.length;b<=E;b++){var _=si[b];if(!_)throw new Error("Content too long: expected "+d+" but got "+u);switch(l){case"L":d=_[0];break;case"M":d=_[1];break;case"Q":d=_[2];break;case"H":d=_[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(u<=d)break;h++}if(h>si.length)throw new Error("Content too long");return h}function s(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var i=this.options.content,o=n(i,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Je(o,a),this.qrcode.addData(i),this.qrcode.make()}hc.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,s=n?"  ":"",i=n?`\r
`:"",o=t.width,a=t.height,c=r.length,l=o/(c+2*t.padding),u=a/(c+2*t.padding),h=typeof t.join<"u"?!!t.join:!1,d=typeof t.swap<"u"?!!t.swap:!1,b=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,E=typeof t.predefined<"u"?!!t.predefined:!1,_=E?s+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+i:"",S=s+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+i,p="",m="",y=0;y<c;y++)for(var C=0;C<c;C++){var R=r[C][y];if(R){var T=C*l+t.padding*l,U=y*u+t.padding*u;if(d){var B=T;T=U,U=B}if(h){var P=l+T,Y=u+U;T=Number.isInteger(T)?Number(T):T.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),P=Number.isInteger(P)?Number(P):P.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),m+="M"+T+","+U+" V"+Y+" H"+P+" V"+U+" H"+T+" Z "}else E?p+=s+'<use x="'+T.toString()+'" y="'+U.toString()+'" href="#qrmodule" />'+i:p+=s+'<rect x="'+T.toString()+'" y="'+U.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+i}}h&&(p=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+m+'" />');let ce="";if(this.options.image!==void 0&&this.options.image.svg){const oe=o*this.options.image.width/100,M=a*this.options.image.height/100,I=o/2-oe/2,$=a/2-M/2;ce+=`<svg x="${I}" y="${$}" width="${oe}" height="${M}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ce+=this.options.image.svg+i,ce+="</svg>"}var ie="";switch(e.container){case"svg":b&&(ie+='<?xml version="1.0" standalone="yes"?>'+i),ie+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+i,ie+=_+S+p,ie+=ce,ie+="</svg>";break;case"svg-viewbox":b&&(ie+='<?xml version="1.0" standalone="yes"?>'+i),ie+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+i,ie+=_+S+p,ie+=ce,ie+="</svg>";break;case"g":ie+='<g width="'+o+'" height="'+a+'">'+i,ie+=_+S+p,ie+=ce,ie+="</g>";break;default:ie+=(_+S+p+ce).replace(/^\s+/,"");break}return ie};var th=hc,rh=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(On,"__esModule",{value:!0});On.QRCode=void 0;const nh=Ce,$o=Mn,sh=rh(th),ih=e=>{const[t,r]=(0,$o.useState)("");return(0,$o.useEffect)(()=>{var n,s;const i=new sh.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(s=e.height)!==null&&s!==void 0?s:256,padding:0,image:e.image}),o=G.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,nh.h)("img",{src:t,alt:"QR Code"}):null};On.QRCode=ih;var Pn={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var oh=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Spinner=void 0;const Jr=Ce,ah=oh(zi),ch=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,Jr.h)("div",{class:"-cbwsdk-spinner"},(0,Jr.h)("style",null,ah.default),(0,Jr.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Jr.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Pn.Spinner=ch;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var fc=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});zt.CoinbaseWalletSteps=zt.ConnectContent=void 0;const yt=fc(Mr),ee=Ce,lh=O,uh=Yt,dh=Nn,hh=xn,fh=Ln,gh=On,ph=Pn,bh=fc(qi),ii={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:gc},mh=e=>e==="light"?"#FFFFFF":"#0A0B0D";function _h(e){const{theme:t}=e,r=(0,lh.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=ii.steps;return(0,ee.h)("div",{"data-testid":"connect-content",className:(0,yt.default)("-cbwsdk-connect-content",t)},(0,ee.h)("style",null,bh.default),(0,ee.h)("div",{className:"-cbwsdk-connect-content-header"},(0,ee.h)("h2",{className:(0,yt.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,ee.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,ee.h)(dh.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ee.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,ee.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,ee.h)(yh,{title:ii.title,description:ii.description,theme:t})),(0,ee.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,ee.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,ee.h)(gh.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,ee.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:uh.LIB_VERSION}),(0,ee.h)("input",{type:"hidden",value:r})),(0,ee.h)(n,{theme:t}),!e.isConnected&&(0,ee.h)("div",{"data-testid":"connecting-spinner",className:(0,yt.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,ee.h)(ph.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,ee.h)("p",null,"Connecting...")))))}zt.ConnectContent=_h;function yh({title:e,description:t,theme:r}){return(0,ee.h)("div",{className:(0,yt.default)("-cbwsdk-connect-item",r)},(0,ee.h)("div",null,(0,ee.h)(hh.CoinbaseWalletRound,null)),(0,ee.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,ee.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,ee.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function gc({theme:e}){return(0,ee.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,ee.h)("li",{className:(0,yt.default)("-cbwsdk-wallet-steps-item",e)},(0,ee.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,ee.h)("li",{className:(0,yt.default)("-cbwsdk-wallet-steps-item",e)},(0,ee.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,ee.h)("span",null,"Tap ",(0,ee.h)("strong",null,"Scan")," "),(0,ee.h)("span",{className:(0,yt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,ee.h)(fh.QRCodeIcon,{fill:mh(e)})))))}zt.CoinbaseWalletSteps=gc;var $n={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.ArrowLeftIcon=void 0;const Bo=Ce;function wh(e){return(0,Bo.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,Bo.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Bn.ArrowLeftIcon=wh;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.LaptopIcon=void 0;const oi=Ce;function vh(e){return(0,oi.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,oi.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,oi.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Fn.LaptopIcon=vh;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.SafeIcon=void 0;const Fo=Ce;function Eh(e){return(0,Fo.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Fo.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Dn.SafeIcon=Eh;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var pc=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($n,"__esModule",{value:!0});$n.TryExtensionContent=void 0;const dt=pc(Mr),ge=Ce,ai=Mn,Sh=Bn,Rh=Fn,Ch=Dn,kh=pc(Gi);function Ih({theme:e}){const[t,r]=(0,ai.useState)(!1),n=(0,ai.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),s=(0,ai.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,ge.h)("div",{class:(0,dt.default)("-cbwsdk-try-extension",e)},(0,ge.h)("style",null,kh.default),(0,ge.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ge.h)("h3",{class:(0,dt.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,ge.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ge.h)("button",{class:(0,dt.default)("-cbwsdk-try-extension-cta",e),onClick:s},t?"Refresh":"Install"),(0,ge.h)("div",null,!t&&(0,ge.h)(Sh.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,ge.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ge.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ge.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ge.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ge.h)("span",{class:(0,dt.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,ge.h)(Rh.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ge.h)("div",{class:(0,dt.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,ge.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ge.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ge.h)("span",{class:(0,dt.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,ge.h)(Ch.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ge.h)("div",{class:(0,dt.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}$n.TryExtensionContent=Ih;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var bc=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ConnectDialog=void 0;const ci=bc(Mr),ht=Ce,li=Mn,Ah=zt,Th=$n,Mh=bc(Ji),Nh=e=>{const{isOpen:t,darkMode:r}=e,[n,s]=(0,li.useState)(!t),[i,o]=(0,li.useState)(!t);(0,li.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!t)},10)];return t?s(!1):c.push(window.setTimeout(()=>{s(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t]);const a=r?"dark":"light";return(0,ht.h)("div",{class:(0,ci.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,ht.h)("style",null,Mh.default),(0,ht.h)("div",{class:(0,ci.default)("-cbwsdk-connect-dialog-backdrop",a,i&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,ht.h)("div",{class:"-cbwsdk-connect-dialog"},(0,ht.h)("div",{class:(0,ci.default)("-cbwsdk-connect-dialog-box",i&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,ht.h)(Ah.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,ht.h)(Th.TryExtensionContent,{theme:a}))))};Tn.ConnectDialog=Nh;Object.defineProperty(An,"__esModule",{value:!0});An.LinkFlow=void 0;const ui=Ce,xh=Tn;class Lh{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,ui.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,ui.render)((0,ui.h)(xh.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}An.LinkFlow=Lh;var Zi={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(e){var t=H&&H.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(Mr),n=Ce,s=Mn,i=t(Ki),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(d){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=d.darkMode}attach(d){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",d.appendChild(this.root),this.render()}presentItem(d){const b=this.nextItemKey++;return this.items.set(b,d),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([d,b])=>(0,n.h)(e.SnackbarInstance,Object.assign({},b,{key:d}))))),this.root)}}e.Snackbar=c;const l=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,i.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));e.SnackbarContainer=l;const u=({autoExpand:h,message:d,menuItems:b})=>{const[E,_]=(0,s.useState)(!0),[S,p]=(0,s.useState)(h??!1);(0,s.useEffect)(()=>{const y=[window.setTimeout(()=>{_(!1)},1),window.setTimeout(()=>{p(!0)},1e4)];return()=>{y.forEach(window.clearTimeout)}});const m=()=>{p(!S)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",E&&"-cbwsdk-snackbar-instance-hidden",S&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:m},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},d),(0,n.h)("div",{class:"-gear-container"},!S&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((y,C)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",y.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:y.onClick,key:C},(0,n.h)("svg",{width:y.svgWidth,height:y.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":y.defaultFillRule,"clip-rule":y.defaultClipRule,d:y.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",y.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},y.info)))))};e.SnackbarInstance=u})(Zi);Object.defineProperty(Ar,"__esModule",{value:!0});Ar.WalletLinkRelayUI=void 0;const Oh=Tr,Ph=An,$h=Zi;class Bh{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new $h.Snackbar({darkMode:t.darkMode}),this.linkFlow=new Ph.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,Oh.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}Ar.WalletLinkRelayUI=Bh;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.WalletLinkRelay=void 0;const Ot=_r,Fh=pe,le=O,ft=Xt,Do=Le,it=er,Dh=Cn,gt=Qt,jh=Ar;class et extends Do.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;const c=this.storage.getItem(Do.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,c){const l=c.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(l[0]!==""&&!o&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const h=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(ft.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:h})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),et.accountRequestCallbackIds.size>0&&(Array.from(et.accountRequestCallbackIds.values()).forEach(a=>{const c={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},c),{id:a}))}),et.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:s,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=s}subscribe(){const t=it.Session.load(this.storage)||new it.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,s=new Dh.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:i,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:r,version:i,darkMode:o,session:t});return s.connect(),{session:t,ui:a,connection:s}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;const n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(ft.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=it.Session.load(this.storage);if(s?.id===this._session.id?this.storage.clear():s&&((r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:i,ui:o,connection:a}=this.subscribe();this._session=i,this.connection=a,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,s){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,le.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:s||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,le.hexStringFromBuffer)(t,!0),signature:(0,le.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,le.bigIntStringFromBN)(t.weiValue),data:(0,le.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,le.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,le.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,le.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,le.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,le.bigIntStringFromBN)(t.weiValue),data:(0,le.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,le.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,le.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,le.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,le.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,le.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,le.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,le.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),(0,gt.isErrorResponse)(c))return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:s}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof jh.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;const s={type:"WEB3_REQUEST",id:t,request:r},i=it.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(ft.EVENTS.WEB3_REQUEST,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?it.Session.hash(i.id):"",isSessionMismatched:(i?.id!==this._session.id).toString()}),this.publishEvent("Web3Request",s,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(ft.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?it.Session.hash(i.id):"",isSessionMismatched:(i?.id!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:r.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(ft.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){et.accountRequestCallbackIds.forEach(s=>this.invokeCallback(Object.assign(Object.assign({},t),{id:s}))),et.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,s){var i;const o=(i=n?.message)!==null&&i!==void 0?i:(0,Ot.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:o,errorCode:s}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,le.randomBytesHex)(8),n=i=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,i)};return{promise:new Promise((i,o)=>{if(this.relayEventManager.callbacks.set(r,a=>{if(this.ui.hideRequestEthereumAccounts(),(0,gt.isErrorResponse)(a))return o(new Error(a.errorMessage));i(a)}),this.ui.inlineAccountsResponse()){const a=c=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:c}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:a})}else{const a=Ot.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(a)})}et.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:"selectProvider"},n=(0,le.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},i=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,u=>{if((0,gt.isErrorResponse)(u))return a(new Error(u.errorMessage));o(u)});const c=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:Fh.ProviderType.Unselected}})},l=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:u}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:t})});return{cancel:s,promise:i}}watchAsset(t,r,n,s,i,o){const a={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:s,image:i},chainId:o}};let c=null;const l=(0,le.randomBytesHex)(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const h=new Promise((d,b)=>{this.relayEventManager.callbacks.set(l,S=>{if(c?.(),(0,gt.isErrorResponse)(S))return b(new Error(S.errorMessage));d(S)});const E=S=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!1}})},_=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:_,onCancel:E,type:t,address:r,symbol:n,decimals:s,image:i,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:u,promise:h}}addEthereumChain(t,r,n,s,i,o){const a={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:s,chainName:i,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,le.randomBytesHex)(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return this.ui.inlineAddEthereumChain(t)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((d,b)=>{this.relayEventManager.callbacks.set(l,S=>{if(c?.(),(0,gt.isErrorResponse)(S))return b(new Error(S.errorMessage));d(S)});const E=S=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},_=S=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:S}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:E,onApprove:_,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:u}}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},s=(0,le.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,h=>{if((0,gt.isErrorResponse)(h)&&h.errorCode)return c(Ot.standardErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,gt.isErrorResponse)(h))return c(new Error(h.errorMessage));a(h)});const l=h=>{var d;if(h){const b=(d=(0,Ot.getErrorCode)(h))!==null&&d!==void 0?d:Ot.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(s,"switchEthereumChain",h instanceof Error?h:Ot.standardErrors.provider.unsupportedChain(t),b)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},u=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:h}}})};this.ui.switchEthereumChain({onCancel:l,onApprove:u,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(s,n)}),cancel:i}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return it.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=i=>{this.handleErrorResponse(t,r.method,i)},s=i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:i})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:s,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:s});break;default:n();break}}}Sr.WalletLinkRelay=et;et.accountRequestCallbackIds=new Set;var Nr={},jn={},mc={};(function(e){var t=H&&H.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=H&&H.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Zi,e)})(mc);var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var _c=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jn,"__esModule",{value:!0});jn.RedirectDialog=void 0;const Hh=_c(Mr),qe=Ce,Uh=Tr,Wh=mc,Vh=_c(Qi);class zh{constructor(){this.root=null}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,Uh.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,qe.render)(null,this.root),t&&(0,qe.render)((0,qe.h)(qh,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}}jn.RedirectDialog=zh;const qh=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:s})=>{const i=r?"dark":"light";return(0,qe.h)(Wh.SnackbarContainer,{darkMode:r},(0,qe.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,qe.h)("style",null,Vh.default),(0,qe.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),(0,qe.h)("div",{class:(0,Hh.default)("-cbwsdk-redirect-dialog-box",i)},(0,qe.h)("p",null,e),(0,qe.h)("button",{onClick:n},t))))};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.MobileRelayUI=void 0;const Gh=jn;class Jh{constructor(t){this.attached=!1,this.darkMode=!1,this.redirectDialog=new Gh.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}redirectToCoinbaseWallet(t){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}Nr.MobileRelayUI=Jh;Object.defineProperty(Er,"__esModule",{value:!0});Er.MobileRelay=void 0;const Zh=O,Kh=Sr,Qh=Nr;class Yh extends Kh.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,Zh.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof Qh.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t)}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}}Er.MobileRelay=Yh;var xi={exports:{}},yc=gn.EventEmitter,di,jo;function Xh(){if(jo)return di;jo=1;function e(E,_){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(E);_&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(E,m).enumerable})),S.push.apply(S,p)}return S}function t(E){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?e(Object(S),!0).forEach(function(p){r(E,p,S[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):e(Object(S)).forEach(function(p){Object.defineProperty(E,p,Object.getOwnPropertyDescriptor(S,p))})}return E}function r(E,_,S){return _=o(_),_ in E?Object.defineProperty(E,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[_]=S,E}function n(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function s(E,_){for(var S=0;S<_.length;S++){var p=_[S];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(E,o(p.key),p)}}function i(E,_,S){return _&&s(E.prototype,_),Object.defineProperty(E,"prototype",{writable:!1}),E}function o(E){var _=a(E,"string");return typeof _=="symbol"?_:String(_)}function a(E,_){if(typeof E!="object"||E===null)return E;var S=E[Symbol.toPrimitive];if(S!==void 0){var p=S.call(E,_);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}var c=br,l=c.Buffer,u=Ua,h=u.inspect,d=h&&h.custom||"inspect";function b(E,_,S){l.prototype.copy.call(E,_,S)}return di=function(){function E(){n(this,E),this.head=null,this.tail=null,this.length=0}return i(E,[{key:"push",value:function(S){var p={data:S,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(S){var p={data:S,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var p=this.head,m=""+p.data;p=p.next;)m+=S+p.data;return m}},{key:"concat",value:function(S){if(this.length===0)return l.alloc(0);for(var p=l.allocUnsafe(S>>>0),m=this.head,y=0;m;)b(m.data,p,y),y+=m.data.length,m=m.next;return p}},{key:"consume",value:function(S,p){var m;return S<this.head.data.length?(m=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?m=this.shift():m=p?this._getString(S):this._getBuffer(S),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var p=this.head,m=1,y=p.data;for(S-=y.length;p=p.next;){var C=p.data,R=S>C.length?C.length:S;if(R===C.length?y+=C:y+=C.slice(0,S),S-=R,S===0){R===C.length?(++m,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=C.slice(R));break}++m}return this.length-=m,y}},{key:"_getBuffer",value:function(S){var p=l.allocUnsafe(S),m=this.head,y=1;for(m.data.copy(p),S-=m.data.length;m=m.next;){var C=m.data,R=S>C.length?C.length:S;if(C.copy(p,p.length-S,0,R),S-=R,S===0){R===C.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=C.slice(R));break}++y}return this.length-=y,p}},{key:d,value:function(S,p){return h(this,t(t({},p),{},{depth:0,customInspect:!1}))}}]),E}(),di}function ef(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ne.nextTick(Li,this,e)):ne.nextTick(Li,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?ne.nextTick(on,r):(r._writableState.errorEmitted=!0,ne.nextTick(Ho,r,i)):ne.nextTick(Ho,r,i):t?(ne.nextTick(on,r),t(i)):ne.nextTick(on,r)}),this)}function Ho(e,t){Li(e,t),on(e)}function on(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function tf(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Li(e,t){e.emit("error",t)}function rf(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var wc={destroy:ef,undestroy:tf,errorOrDestroy:rf},Ct={};function nf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var vc={};function $e(e,t,r){r||(r=Error);function n(i,o,a){return typeof t=="string"?t:t(i,o,a)}var s=function(i){nf(o,i);function o(a,c,l){return i.call(this,n(a,c,l))||this}return o}(r);s.prototype.name=r.name,s.prototype.code=e,vc[e]=s}function Uo(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function sf(e,t,r){return e.substr(0,t.length)===t}function of(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function af(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}$e("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);$e("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&sf(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var s;if(of(e," argument"))s="The ".concat(e," ").concat(n," ").concat(Uo(t,"type"));else{var i=af(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(i," ").concat(n," ").concat(Uo(t,"type"))}return s+=". Received type ".concat(typeof r),s},TypeError);$e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$e("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});$e("ERR_STREAM_PREMATURE_CLOSE","Premature close");$e("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});$e("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$e("ERR_STREAM_WRITE_AFTER_END","write after end");$e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$e("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);$e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ct.codes=vc;var cf=Ct.codes.ERR_INVALID_OPT_VALUE;function lf(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function uf(e,t,r,n){var s=lf(t,n,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var i=n?r:"highWaterMark";throw new cf(i,s)}return Math.floor(s)}return e.objectMode?16:16*1024}var Ec={getHighWaterMark:uf},df=hf;function hf(e,t){if(hi("noDeprecation"))return e;var r=!1;function n(){if(!r){if(hi("throwDeprecation"))throw new Error(t);hi("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function hi(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var fi,Wo;function Sc(){if(Wo)return fi;Wo=1,fi=B;function e(w){var v=this;this.next=null,this.entry=null,this.finish=function(){re(v,w)}}var t;B.WritableState=T;var r={deprecate:df},n=yc,s=br.Buffer,i=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(w){return s.from(w)}function a(w){return s.isBuffer(w)||w instanceof i}var c=wc,l=Ec,u=l.getHighWaterMark,h=Ct.codes,d=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,E=h.ERR_MULTIPLE_CALLBACK,_=h.ERR_STREAM_CANNOT_PIPE,S=h.ERR_STREAM_DESTROYED,p=h.ERR_STREAM_NULL_VALUES,m=h.ERR_STREAM_WRITE_AFTER_END,y=h.ERR_UNKNOWN_ENCODING,C=c.errorOrDestroy;De(B,n);function R(){}function T(w,v,A){t=t||qt(),w=w||{},typeof A!="boolean"&&(A=v instanceof t),this.objectMode=!!w.objectMode,A&&(this.objectMode=this.objectMode||!!w.writableObjectMode),this.highWaterMark=u(this,w,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=w.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(J){$(v,J)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}T.prototype.getBuffer=function(){for(var v=this.bufferedRequest,A=[];v;)A.push(v),v=v.next;return A},function(){try{Object.defineProperty(T.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var U;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(U=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(v){return U.call(this,v)?!0:this!==B?!1:v&&v._writableState instanceof T}})):U=function(v){return v instanceof this};function B(w){t=t||qt();var v=this instanceof t;if(!v&&!U.call(B,this))return new B(w);this._writableState=new T(w,this,v),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),n.call(this)}B.prototype.pipe=function(){C(this,new _)};function P(w,v){var A=new m;C(w,A),ne.nextTick(v,A)}function Y(w,v,A,D){var J;return A===null?J=new p:typeof A!="string"&&!v.objectMode&&(J=new d("chunk",["string","Buffer"],A)),J?(C(w,J),ne.nextTick(D,J),!1):!0}B.prototype.write=function(w,v,A){var D=this._writableState,J=!1,f=!D.objectMode&&a(w);return f&&!s.isBuffer(w)&&(w=o(w)),typeof v=="function"&&(A=v,v=null),f?v="buffer":v||(v=D.defaultEncoding),typeof A!="function"&&(A=R),D.ending?P(this,A):(f||Y(this,D,w,A))&&(D.pendingcb++,J=ie(this,D,f,w,v,A)),J},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,!w.writing&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&L(this,w))},B.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new y(v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(w,v,A){return!w.objectMode&&w.decodeStrings!==!1&&typeof v=="string"&&(v=s.from(v,A)),v}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ie(w,v,A,D,J,f){if(!A){var g=ce(v,D,J);D!==g&&(A=!0,J="buffer",D=g)}var k=v.objectMode?1:D.length;v.length+=k;var N=v.length<v.highWaterMark;if(N||(v.needDrain=!0),v.writing||v.corked){var ae=v.lastBufferedRequest;v.lastBufferedRequest={chunk:D,encoding:J,isBuf:A,callback:f,next:null},ae?ae.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else oe(w,v,!1,k,D,J,f);return N}function oe(w,v,A,D,J,f,g){v.writelen=D,v.writecb=g,v.writing=!0,v.sync=!0,v.destroyed?v.onwrite(new S("write")):A?w._writev(J,v.onwrite):w._write(J,f,v.onwrite),v.sync=!1}function M(w,v,A,D,J){--v.pendingcb,A?(ne.nextTick(J,D),ne.nextTick(Q,w,v),w._writableState.errorEmitted=!0,C(w,D)):(J(D),w._writableState.errorEmitted=!0,C(w,D),Q(w,v))}function I(w){w.writing=!1,w.writecb=null,w.length-=w.writelen,w.writelen=0}function $(w,v){var A=w._writableState,D=A.sync,J=A.writecb;if(typeof J!="function")throw new E;if(I(A),v)M(w,A,D,v,J);else{var f=j(A)||w.destroyed;!f&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&L(w,A),D?ne.nextTick(x,w,A,f,J):x(w,A,f,J)}}function x(w,v,A,D){A||F(w,v),v.pendingcb--,D(),Q(w,v)}function F(w,v){v.length===0&&v.needDrain&&(v.needDrain=!1,w.emit("drain"))}function L(w,v){v.bufferProcessing=!0;var A=v.bufferedRequest;if(w._writev&&A&&A.next){var D=v.bufferedRequestCount,J=new Array(D),f=v.corkedRequestsFree;f.entry=A;for(var g=0,k=!0;A;)J[g]=A,A.isBuf||(k=!1),A=A.next,g+=1;J.allBuffers=k,oe(w,v,!0,v.length,J,"",f.finish),v.pendingcb++,v.lastBufferedRequest=null,f.next?(v.corkedRequestsFree=f.next,f.next=null):v.corkedRequestsFree=new e(v),v.bufferedRequestCount=0}else{for(;A;){var N=A.chunk,ae=A.encoding,q=A.callback,se=v.objectMode?1:N.length;if(oe(w,v,!1,se,N,ae,q),A=A.next,v.bufferedRequestCount--,v.writing)break}A===null&&(v.lastBufferedRequest=null)}v.bufferedRequest=A,v.bufferProcessing=!1}B.prototype._write=function(w,v,A){A(new b("_write()"))},B.prototype._writev=null,B.prototype.end=function(w,v,A){var D=this._writableState;return typeof w=="function"?(A=w,w=null,v=null):typeof v=="function"&&(A=v,v=null),w!=null&&this.write(w,v),D.corked&&(D.corked=1,this.uncork()),D.ending||he(this,D,A),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function K(w,v){w._final(function(A){v.pendingcb--,A&&C(w,A),v.prefinished=!0,w.emit("prefinish"),Q(w,v)})}function W(w,v){!v.prefinished&&!v.finalCalled&&(typeof w._final=="function"&&!v.destroyed?(v.pendingcb++,v.finalCalled=!0,ne.nextTick(K,w,v)):(v.prefinished=!0,w.emit("prefinish")))}function Q(w,v){var A=j(v);if(A&&(W(w,v),v.pendingcb===0&&(v.finished=!0,w.emit("finish"),v.autoDestroy))){var D=w._readableState;(!D||D.autoDestroy&&D.endEmitted)&&w.destroy()}return A}function he(w,v,A){v.ending=!0,Q(w,v),A&&(v.finished?ne.nextTick(A):w.once("finish",A)),v.ended=!0,w.writable=!1}function re(w,v,A){var D=w.entry;for(w.entry=null;D;){var J=D.callback;v.pendingcb--,J(A),D=D.next}v.corkedRequestsFree.next=w}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(v){this._writableState&&(this._writableState.destroyed=v)}}),B.prototype.destroy=c.destroy,B.prototype._undestroy=c.undestroy,B.prototype._destroy=function(w,v){v(w)},fi}var gi,Vo;function qt(){if(Vo)return gi;Vo=1;var e=Object.keys||function(l){var u=[];for(var h in l)u.push(h);return u};gi=o;var t=Cc(),r=Sc();De(o,t);for(var n=e(r.prototype),s=0;s<n.length;s++){var i=n[s];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(l){if(!(this instanceof o))return new o(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||ne.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),gi}var pi={},Zr={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var zo;function ff(){return zo||(zo=1,function(e,t){var r=br,n=r.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=i);function i(o,a,c){return n(o,a,c)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Zr,Zr.exports)),Zr.exports}var qo;function Go(){if(qo)return pi;qo=1;var e=ff().Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var m;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(m)return;p=(""+p).toLowerCase(),m=!0}}function n(p){var m=r(p);if(typeof m!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return m||p}pi.StringDecoder=s;function s(p){this.encoding=n(p);var m;switch(this.encoding){case"utf16le":this.text=h,this.end=d,m=4;break;case"utf8":this.fillLast=c,m=4;break;case"base64":this.text=b,this.end=E,m=3;break;default:this.write=_,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(m)}s.prototype.write=function(p){if(p.length===0)return"";var m,y;if(this.lastNeed){if(m=this.fillLast(p),m===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?m?m+this.text(p,y):this.text(p,y):m||""},s.prototype.end=u,s.prototype.text=l,s.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function i(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,m,y){var C=m.length-1;if(C<y)return 0;var R=i(m[C]);return R>=0?(R>0&&(p.lastNeed=R-1),R):--C<y||R===-2?0:(R=i(m[C]),R>=0?(R>0&&(p.lastNeed=R-2),R):--C<y||R===-2?0:(R=i(m[C]),R>=0?(R>0&&(R===2?R=0:p.lastNeed=R-3),R):0))}function a(p,m,y){if((m[0]&192)!==128)return p.lastNeed=0,"�";if(p.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return p.lastNeed=1,"�";if(p.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return p.lastNeed=2,"�"}}function c(p){var m=this.lastTotal-this.lastNeed,y=a(this,p);if(y!==void 0)return y;if(this.lastNeed<=p.length)return p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,m,0,p.length),this.lastNeed-=p.length}function l(p,m){var y=o(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=y;var C=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,C),p.toString("utf8",m,C)}function u(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"�":m}function h(p,m){if((p.length-m)%2===0){var y=p.toString("utf16le",m);if(y){var C=y.charCodeAt(y.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function d(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,y)}return m}function b(p,m){var y=(p.length-m)%3;return y===0?p.toString("base64",m):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-y))}function E(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function _(p){return p.toString(this.encoding)}function S(p){return p&&p.length?this.write(p):""}return pi}var Jo=Ct.codes.ERR_STREAM_PREMATURE_CLOSE;function gf(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];e.apply(this,n)}}}function pf(){}function bf(e){return e.setHeader&&typeof e.abort=="function"}function Rc(e,t,r){if(typeof t=="function")return Rc(e,null,t);t||(t={}),r=gf(r||pf);var n=t.readable||t.readable!==!1&&e.readable,s=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||a()},o=e._writableState&&e._writableState.finished,a=function(){s=!1,o=!0,n||r.call(e)},c=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,c=!0,s||r.call(e)},u=function(E){r.call(e,E)},h=function(){var E;if(n&&!c)return(!e._readableState||!e._readableState.ended)&&(E=new Jo),r.call(e,E);if(s&&!o)return(!e._writableState||!e._writableState.ended)&&(E=new Jo),r.call(e,E)},d=function(){e.req.on("finish",a)};return bf(e)?(e.on("complete",a),e.on("abort",h),e.req?d():e.on("request",d)):s&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",l),e.on("finish",a),t.error!==!1&&e.on("error",u),e.on("close",h),function(){e.removeListener("complete",a),e.removeListener("abort",h),e.removeListener("request",d),e.req&&e.req.removeListener("finish",a),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",u),e.removeListener("close",h)}}var Yi=Rc,bi,Zo;function mf(){if(Zo)return bi;Zo=1;var e;function t(y,C,R){return C=r(C),C in y?Object.defineProperty(y,C,{value:R,enumerable:!0,configurable:!0,writable:!0}):y[C]=R,y}function r(y){var C=n(y,"string");return typeof C=="symbol"?C:String(C)}function n(y,C){if(typeof y!="object"||y===null)return y;var R=y[Symbol.toPrimitive];if(R!==void 0){var T=R.call(y,C);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(y)}var s=Yi,i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function d(y,C){return{value:y,done:C}}function b(y){var C=y[i];if(C!==null){var R=y[h].read();R!==null&&(y[l]=null,y[i]=null,y[o]=null,C(d(R,!1)))}}function E(y){ne.nextTick(b,y)}function _(y,C){return function(R,T){y.then(function(){if(C[c]){R(d(void 0,!0));return}C[u](R,T)},T)}}var S=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((e={get stream(){return this[h]},next:function(){var C=this,R=this[a];if(R!==null)return Promise.reject(R);if(this[c])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise(function(P,Y){ne.nextTick(function(){C[a]?Y(C[a]):P(d(void 0,!0))})});var T=this[l],U;if(T)U=new Promise(_(T,this));else{var B=this[h].read();if(B!==null)return Promise.resolve(d(B,!1));U=new Promise(this[u])}return this[l]=U,U}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var C=this;return new Promise(function(R,T){C[h].destroy(null,function(U){if(U){T(U);return}R(d(void 0,!0))})})}),e),S),m=function(C){var R,T=Object.create(p,(R={},t(R,h,{value:C,writable:!0}),t(R,i,{value:null,writable:!0}),t(R,o,{value:null,writable:!0}),t(R,a,{value:null,writable:!0}),t(R,c,{value:C._readableState.endEmitted,writable:!0}),t(R,u,{value:function(B,P){var Y=T[h].read();Y?(T[l]=null,T[i]=null,T[o]=null,B(d(Y,!1))):(T[i]=B,T[o]=P)},writable:!0}),R));return T[l]=null,s(C,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=T[o];B!==null&&(T[l]=null,T[i]=null,T[o]=null,B(U)),T[a]=U;return}var P=T[i];P!==null&&(T[l]=null,T[i]=null,T[o]=null,P(d(void 0,!0))),T[c]=!0}),C.on("readable",E.bind(null,T)),T};return bi=m,bi}var mi,Ko;function _f(){return Ko||(Ko=1,mi=function(){throw new Error("Readable.from is not available in the browser")}),mi}var _i,Qo;function Cc(){if(Qo)return _i;Qo=1,_i=P;var e;P.ReadableState=B,gn.EventEmitter;var t=function(g,k){return g.listeners(k).length},r=yc,n=br.Buffer,s=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(f){return n.from(f)}function o(f){return n.isBuffer(f)||f instanceof s}var a=Ua,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=Xh(),u=wc,h=Ec,d=h.getHighWaterMark,b=Ct.codes,E=b.ERR_INVALID_ARG_TYPE,_=b.ERR_STREAM_PUSH_AFTER_EOF,S=b.ERR_METHOD_NOT_IMPLEMENTED,p=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,y,C;De(P,r);var R=u.errorOrDestroy,T=["error","close","destroy","pause","resume"];function U(f,g,k){if(typeof f.prependListener=="function")return f.prependListener(g,k);!f._events||!f._events[g]?f.on(g,k):Array.isArray(f._events[g])?f._events[g].unshift(k):f._events[g]=[k,f._events[g]]}function B(f,g,k){e=e||qt(),f=f||{},typeof k!="boolean"&&(k=g instanceof e),this.objectMode=!!f.objectMode,k&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=d(this,f,"readableHighWaterMark",k),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(m||(m=Go().StringDecoder),this.decoder=new m(f.encoding),this.encoding=f.encoding)}function P(f){if(e=e||qt(),!(this instanceof P))return new P(f);var g=this instanceof e;this._readableState=new B(f,this,g),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),r.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(g){this._readableState&&(this._readableState.destroyed=g)}}),P.prototype.destroy=u.destroy,P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(f,g){g(f)},P.prototype.push=function(f,g){var k=this._readableState,N;return k.objectMode?N=!0:typeof f=="string"&&(g=g||k.defaultEncoding,g!==k.encoding&&(f=n.from(f,g),g=""),N=!0),Y(this,f,g,!1,N)},P.prototype.unshift=function(f){return Y(this,f,null,!0,!1)};function Y(f,g,k,N,ae){c("readableAddChunk",g);var q=f._readableState;if(g===null)q.reading=!1,$(f,q);else{var se;if(ae||(se=ie(q,g)),se)R(f,se);else if(q.objectMode||g&&g.length>0)if(typeof g!="string"&&!q.objectMode&&Object.getPrototypeOf(g)!==n.prototype&&(g=i(g)),N)q.endEmitted?R(f,new p):ce(f,q,g,!0);else if(q.ended)R(f,new _);else{if(q.destroyed)return!1;q.reading=!1,q.decoder&&!k?(g=q.decoder.write(g),q.objectMode||g.length!==0?ce(f,q,g,!1):L(f,q)):ce(f,q,g,!1)}else N||(q.reading=!1,L(f,q))}return!q.ended&&(q.length<q.highWaterMark||q.length===0)}function ce(f,g,k,N){g.flowing&&g.length===0&&!g.sync?(g.awaitDrain=0,f.emit("data",k)):(g.length+=g.objectMode?1:k.length,N?g.buffer.unshift(k):g.buffer.push(k),g.needReadable&&x(f)),L(f,g)}function ie(f,g){var k;return!o(g)&&typeof g!="string"&&g!==void 0&&!f.objectMode&&(k=new E("chunk",["string","Buffer","Uint8Array"],g)),k}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(f){m||(m=Go().StringDecoder);var g=new m(f);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;for(var k=this._readableState.buffer.head,N="";k!==null;)N+=g.write(k.data),k=k.next;return this._readableState.buffer.clear(),N!==""&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var oe=1073741824;function M(f){return f>=oe?f=oe:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function I(f,g){return f<=0||g.length===0&&g.ended?0:g.objectMode?1:f!==f?g.flowing&&g.length?g.buffer.head.data.length:g.length:(f>g.highWaterMark&&(g.highWaterMark=M(f)),f<=g.length?f:g.ended?g.length:(g.needReadable=!0,0))}P.prototype.read=function(f){c("read",f),f=parseInt(f,10);var g=this._readableState,k=f;if(f!==0&&(g.emittedReadable=!1),f===0&&g.needReadable&&((g.highWaterMark!==0?g.length>=g.highWaterMark:g.length>0)||g.ended))return c("read: emitReadable",g.length,g.ended),g.length===0&&g.ended?A(this):x(this),null;if(f=I(f,g),f===0&&g.ended)return g.length===0&&A(this),null;var N=g.needReadable;c("need readable",N),(g.length===0||g.length-f<g.highWaterMark)&&(N=!0,c("length less than watermark",N)),g.ended||g.reading?(N=!1,c("reading or ended",N)):N&&(c("do read"),g.reading=!0,g.sync=!0,g.length===0&&(g.needReadable=!0),this._read(g.highWaterMark),g.sync=!1,g.reading||(f=I(k,g)));var ae;return f>0?ae=v(f,g):ae=null,ae===null?(g.needReadable=g.length<=g.highWaterMark,f=0):(g.length-=f,g.awaitDrain=0),g.length===0&&(g.ended||(g.needReadable=!0),k!==f&&g.ended&&A(this)),ae!==null&&this.emit("data",ae),ae};function $(f,g){if(c("onEofChunk"),!g.ended){if(g.decoder){var k=g.decoder.end();k&&k.length&&(g.buffer.push(k),g.length+=g.objectMode?1:k.length)}g.ended=!0,g.sync?x(f):(g.needReadable=!1,g.emittedReadable||(g.emittedReadable=!0,F(f)))}}function x(f){var g=f._readableState;c("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||(c("emitReadable",g.flowing),g.emittedReadable=!0,ne.nextTick(F,f))}function F(f){var g=f._readableState;c("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&(g.length||g.ended)&&(f.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,w(f)}function L(f,g){g.readingMore||(g.readingMore=!0,ne.nextTick(j,f,g))}function j(f,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&g.length===0);){var k=g.length;if(c("maybeReadMore read 0"),f.read(0),k===g.length)break}g.readingMore=!1}P.prototype._read=function(f){R(this,new S("_read()"))},P.prototype.pipe=function(f,g){var k=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=f;break;case 1:N.pipes=[N.pipes,f];break;default:N.pipes.push(f);break}N.pipesCount+=1,c("pipe count=%d opts=%j",N.pipesCount,g);var ae=(!g||g.end!==!1)&&f!==ne.stdout&&f!==ne.stderr,q=ae?Qe:nt;N.endEmitted?ne.nextTick(q):k.once("end",q),f.on("unpipe",se);function se(Ye,He){c("onunpipe"),Ye===k&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,Vr())}function Qe(){c("onend"),f.end()}var ut=K(k);f.on("drain",ut);var or=!1;function Vr(){c("cleanup"),f.removeListener("close",Tt),f.removeListener("finish",Mt),f.removeListener("drain",ut),f.removeListener("error",At),f.removeListener("unpipe",se),k.removeListener("end",Qe),k.removeListener("end",nt),k.removeListener("data",ar),or=!0,N.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&ut()}k.on("data",ar);function ar(Ye){c("ondata");var He=f.write(Ye);c("dest.write",He),He===!1&&((N.pipesCount===1&&N.pipes===f||N.pipesCount>1&&J(N.pipes,f)!==-1)&&!or&&(c("false write response, pause",N.awaitDrain),N.awaitDrain++),k.pause())}function At(Ye){c("onerror",Ye),nt(),f.removeListener("error",At),t(f,"error")===0&&R(f,Ye)}U(f,"error",At);function Tt(){f.removeListener("finish",Mt),nt()}f.once("close",Tt);function Mt(){c("onfinish"),f.removeListener("close",Tt),nt()}f.once("finish",Mt);function nt(){c("unpipe"),k.unpipe(f)}return f.emit("pipe",k),N.flowing||(c("pipe resume"),k.resume()),f};function K(f){return function(){var k=f._readableState;c("pipeOnDrain",k.awaitDrain),k.awaitDrain&&k.awaitDrain--,k.awaitDrain===0&&t(f,"data")&&(k.flowing=!0,w(f))}}P.prototype.unpipe=function(f){var g=this._readableState,k={hasUnpiped:!1};if(g.pipesCount===0)return this;if(g.pipesCount===1)return f&&f!==g.pipes?this:(f||(f=g.pipes),g.pipes=null,g.pipesCount=0,g.flowing=!1,f&&f.emit("unpipe",this,k),this);if(!f){var N=g.pipes,ae=g.pipesCount;g.pipes=null,g.pipesCount=0,g.flowing=!1;for(var q=0;q<ae;q++)N[q].emit("unpipe",this,{hasUnpiped:!1});return this}var se=J(g.pipes,f);return se===-1?this:(g.pipes.splice(se,1),g.pipesCount-=1,g.pipesCount===1&&(g.pipes=g.pipes[0]),f.emit("unpipe",this,k),this)},P.prototype.on=function(f,g){var k=r.prototype.on.call(this,f,g),N=this._readableState;return f==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):f==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,c("on readable",N.length,N.reading),N.length?x(this):N.reading||ne.nextTick(Q,this)),k},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(f,g){var k=r.prototype.removeListener.call(this,f,g);return f==="readable"&&ne.nextTick(W,this),k},P.prototype.removeAllListeners=function(f){var g=r.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&ne.nextTick(W,this),g};function W(f){var g=f._readableState;g.readableListening=f.listenerCount("readable")>0,g.resumeScheduled&&!g.paused?g.flowing=!0:f.listenerCount("data")>0&&f.resume()}function Q(f){c("readable nexttick read 0"),f.read(0)}P.prototype.resume=function(){var f=this._readableState;return f.flowing||(c("resume"),f.flowing=!f.readableListening,he(this,f)),f.paused=!1,this};function he(f,g){g.resumeScheduled||(g.resumeScheduled=!0,ne.nextTick(re,f,g))}function re(f,g){c("resume",g.reading),g.reading||f.read(0),g.resumeScheduled=!1,f.emit("resume"),w(f),g.flowing&&!g.reading&&f.read(0)}P.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function w(f){var g=f._readableState;for(c("flow",g.flowing);g.flowing&&f.read()!==null;);}P.prototype.wrap=function(f){var g=this,k=this._readableState,N=!1;f.on("end",function(){if(c("wrapped end"),k.decoder&&!k.ended){var se=k.decoder.end();se&&se.length&&g.push(se)}g.push(null)}),f.on("data",function(se){if(c("wrapped data"),k.decoder&&(se=k.decoder.write(se)),!(k.objectMode&&se==null)&&!(!k.objectMode&&(!se||!se.length))){var Qe=g.push(se);Qe||(N=!0,f.pause())}});for(var ae in f)this[ae]===void 0&&typeof f[ae]=="function"&&(this[ae]=function(Qe){return function(){return f[Qe].apply(f,arguments)}}(ae));for(var q=0;q<T.length;q++)f.on(T[q],this.emit.bind(this,T[q]));return this._read=function(se){c("wrapped _read",se),N&&(N=!1,f.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=mf()),y(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(g){this._readableState&&(this._readableState.flowing=g)}}),P._fromList=v,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function v(f,g){if(g.length===0)return null;var k;return g.objectMode?k=g.buffer.shift():!f||f>=g.length?(g.decoder?k=g.buffer.join(""):g.buffer.length===1?k=g.buffer.first():k=g.buffer.concat(g.length),g.buffer.clear()):k=g.buffer.consume(f,g.decoder),k}function A(f){var g=f._readableState;c("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,ne.nextTick(D,g,f))}function D(f,g){if(c("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,g.readable=!1,g.emit("end"),f.autoDestroy)){var k=g._writableState;(!k||k.autoDestroy&&k.finished)&&g.destroy()}}typeof Symbol=="function"&&(P.from=function(f,g){return C===void 0&&(C=_f()),C(P,f,g)});function J(f,g){for(var k=0,N=f.length;k<N;k++)if(f[k]===g)return k;return-1}return _i}var kc=rt,Hn=Ct.codes,yf=Hn.ERR_METHOD_NOT_IMPLEMENTED,wf=Hn.ERR_MULTIPLE_CALLBACK,vf=Hn.ERR_TRANSFORM_ALREADY_TRANSFORMING,Ef=Hn.ERR_TRANSFORM_WITH_LENGTH_0,Un=qt();De(rt,Un);function Sf(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new wf);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function rt(e){if(!(this instanceof rt))return new rt(e);Un.call(this,e),this._transformState={afterTransform:Sf.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Rf)}function Rf(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Yo(e,t,r)}):Yo(this,null,null)}rt.prototype.push=function(e,t){return this._transformState.needTransform=!1,Un.prototype.push.call(this,e,t)};rt.prototype._transform=function(e,t,r){r(new yf("_transform()"))};rt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};rt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};rt.prototype._destroy=function(e,t){Un.prototype._destroy.call(this,e,function(r){t(r)})};function Yo(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Ef;if(e._transformState.transforming)throw new vf;return e.push(null)}var Cf=fr,Ic=kc;De(fr,Ic);function fr(e){if(!(this instanceof fr))return new fr(e);Ic.call(this,e)}fr.prototype._transform=function(e,t,r){r(null,e)};var yi;function kf(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Ac=Ct.codes,If=Ac.ERR_MISSING_ARGS,Af=Ac.ERR_STREAM_DESTROYED;function Xo(e){if(e)throw e}function Tf(e){return e.setHeader&&typeof e.abort=="function"}function Mf(e,t,r,n){n=kf(n);var s=!1;e.on("close",function(){s=!0}),yi===void 0&&(yi=Yi),yi(e,{readable:t,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,Tf(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new Af("pipe"))}}}function ea(e){e()}function Nf(e,t){return e.pipe(t)}function xf(e){return!e.length||typeof e[e.length-1]!="function"?Xo:e.pop()}function Lf(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=xf(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new If("streams");var s,i=t.map(function(o,a){var c=a<t.length-1,l=a>0;return Mf(o,c,l,function(u){s||(s=u),u&&i.forEach(ea),!c&&(i.forEach(ea),n(s))})});return t.reduce(Nf)}var Of=Lf;(function(e,t){t=e.exports=Cc(),t.Stream=t,t.Readable=t,t.Writable=Sc(),t.Duplex=qt(),t.Transform=kc,t.PassThrough=Cf,t.finished=Yi,t.pipeline=Of})(xi,xi.exports);var Tc=xi.exports;const{Transform:Pf}=Tc;var $f=e=>class Mc extends Pf{constructor(r,n,s,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._hashBitLength=i,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(o){i=o}s(i)}_flush(r){let n=null;try{this.push(this.digest())}catch(s){n=s}r(n)}update(r,n){if(!G.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return G.isBuffer(r)||(r=G.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Mc(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Bf}=Tc;var Ff=e=>class Nc extends Bf{constructor(r,n,s,i){super(i),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._options=i,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(o){i=o}s(i)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!G.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return G.isBuffer(r)||(r=G.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let s=this._state.squeeze(r);return n!==void 0&&(s=s.toString(n)),s}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Nc(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Df=$f,jf=Ff;var Hf=function(e){const t=Df(e),r=jf(e);return function(n,s){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,s);case"keccak256":return new t(1088,512,null,256,s);case"keccak384":return new t(832,768,null,384,s);case"keccak512":return new t(576,1024,null,512,s);case"sha3-224":return new t(1152,448,6,224,s);case"sha3-256":return new t(1088,512,6,256,s);case"sha3-384":return new t(832,768,6,384,s);case"sha3-512":return new t(576,1024,6,512,s);case"shake128":return new r(1344,256,31,s);case"shake256":return new r(1088,512,31,s);default:throw new Error("Invald algorithm: "+n)}}},xc={};const ta=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];xc.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],i=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],u=e[8]^e[18]^e[28]^e[38]^e[48],h=e[9]^e[19]^e[29]^e[39]^e[49];let d=u^(s<<1|i>>>31),b=h^(i<<1|s>>>31);const E=e[0]^d,_=e[1]^b,S=e[10]^d,p=e[11]^b,m=e[20]^d,y=e[21]^b,C=e[30]^d,R=e[31]^b,T=e[40]^d,U=e[41]^b;d=r^(o<<1|a>>>31),b=n^(a<<1|o>>>31);const B=e[2]^d,P=e[3]^b,Y=e[12]^d,ce=e[13]^b,ie=e[22]^d,oe=e[23]^b,M=e[32]^d,I=e[33]^b,$=e[42]^d,x=e[43]^b;d=s^(c<<1|l>>>31),b=i^(l<<1|c>>>31);const F=e[4]^d,L=e[5]^b,j=e[14]^d,K=e[15]^b,W=e[24]^d,Q=e[25]^b,he=e[34]^d,re=e[35]^b,w=e[44]^d,v=e[45]^b;d=o^(u<<1|h>>>31),b=a^(h<<1|u>>>31);const A=e[6]^d,D=e[7]^b,J=e[16]^d,f=e[17]^b,g=e[26]^d,k=e[27]^b,N=e[36]^d,ae=e[37]^b,q=e[46]^d,se=e[47]^b;d=c^(r<<1|n>>>31),b=l^(n<<1|r>>>31);const Qe=e[8]^d,ut=e[9]^b,or=e[18]^d,Vr=e[19]^b,ar=e[28]^d,At=e[29]^b,Tt=e[38]^d,Mt=e[39]^b,nt=e[48]^d,Ye=e[49]^b,He=E,ls=_,us=p<<4|S>>>28,ds=S<<4|p>>>28,hs=m<<3|y>>>29,fs=y<<3|m>>>29,gs=R<<9|C>>>23,ps=C<<9|R>>>23,bs=T<<18|U>>>14,ms=U<<18|T>>>14,_s=B<<1|P>>>31,ys=P<<1|B>>>31,ws=ce<<12|Y>>>20,vs=Y<<12|ce>>>20,Es=ie<<10|oe>>>22,Ss=oe<<10|ie>>>22,Rs=I<<13|M>>>19,Cs=M<<13|I>>>19,ks=$<<2|x>>>30,Is=x<<2|$>>>30,As=L<<30|F>>>2,Ts=F<<30|L>>>2,Ms=j<<6|K>>>26,Ns=K<<6|j>>>26,xs=Q<<11|W>>>21,Ls=W<<11|Q>>>21,Os=he<<15|re>>>17,Ps=re<<15|he>>>17,$s=v<<29|w>>>3,Bs=w<<29|v>>>3,Fs=A<<28|D>>>4,Ds=D<<28|A>>>4,js=f<<23|J>>>9,Hs=J<<23|f>>>9,Us=g<<25|k>>>7,Ws=k<<25|g>>>7,Vs=N<<21|ae>>>11,zs=ae<<21|N>>>11,qs=se<<24|q>>>8,Gs=q<<24|se>>>8,Js=Qe<<27|ut>>>5,Zs=ut<<27|Qe>>>5,Ks=or<<20|Vr>>>12,Qs=Vr<<20|or>>>12,Ys=At<<7|ar>>>25,Xs=ar<<7|At>>>25,ei=Tt<<8|Mt>>>24,ti=Mt<<8|Tt>>>24,ri=nt<<14|Ye>>>18,ni=Ye<<14|nt>>>18;e[0]=He^~ws&xs,e[1]=ls^~vs&Ls,e[10]=Fs^~Ks&hs,e[11]=Ds^~Qs&fs,e[20]=_s^~Ms&Us,e[21]=ys^~Ns&Ws,e[30]=Js^~us&Es,e[31]=Zs^~ds&Ss,e[40]=As^~js&Ys,e[41]=Ts^~Hs&Xs,e[2]=ws^~xs&Vs,e[3]=vs^~Ls&zs,e[12]=Ks^~hs&Rs,e[13]=Qs^~fs&Cs,e[22]=Ms^~Us&ei,e[23]=Ns^~Ws&ti,e[32]=us^~Es&Os,e[33]=ds^~Ss&Ps,e[42]=js^~Ys&gs,e[43]=Hs^~Xs&ps,e[4]=xs^~Vs&ri,e[5]=Ls^~zs&ni,e[14]=hs^~Rs&$s,e[15]=fs^~Cs&Bs,e[24]=Us^~ei&bs,e[25]=Ws^~ti&ms,e[34]=Es^~Os&qs,e[35]=Ss^~Ps&Gs,e[44]=Ys^~gs&ks,e[45]=Xs^~ps&Is,e[6]=Vs^~ri&He,e[7]=zs^~ni&ls,e[16]=Rs^~$s&Fs,e[17]=Cs^~Bs&Ds,e[26]=ei^~bs&_s,e[27]=ti^~ms&ys,e[36]=Os^~qs&Js,e[37]=Ps^~Gs&Zs,e[46]=gs^~ks&As,e[47]=ps^~Is&Ts,e[8]=ri^~He&ws,e[9]=ni^~ls&vs,e[18]=$s^~Fs&Ks,e[19]=Bs^~Ds&Qs,e[28]=bs^~_s&Ms,e[29]=ms^~ys&Ns,e[38]=qs^~Js&us,e[39]=Gs^~Zs&ds,e[48]=ks^~As&js,e[49]=Is^~Ts&Hs,e[0]^=ta[t*2],e[1]^=ta[t*2+1]}};const cn=xc;function rr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}rr.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};rr.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(cn.p1600(this.state),this.count=0)};rr.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&cn.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),cn.p1600(this.state),this.count=0,this.squeezing=!0};rr.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=G.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(cn.p1600(this.state),this.count=0);return t};rr.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var Uf=rr,Wf=Hf(Uf);const Vf=Wf,zf=fn;function Lc(e){return G.allocUnsafe(e).fill(0)}function Oc(e,t,r){const n=Lc(t);return e=Wn(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function qf(e,t){return Oc(e,t,!0)}function Wn(e){if(!G.isBuffer(e))if(Array.isArray(e))e=G.from(e);else if(typeof e=="string")Pc(e)?e=G.from(Zf($c(e)),"hex"):e=G.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=G.allocUnsafe(0);else if(zf.isBN(e))e=e.toArrayLike(G);else if(e.toArray)e=G.from(e.toArray());else throw new Error("invalid type");return e}function Gf(e){return e=Wn(e),"0x"+e.toString("hex")}function Jf(e,t){return e=Wn(e),t||(t=256),Vf("keccak"+t).update(e).digest()}function Zf(e){return e.length%2?"0"+e:e}function Pc(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function $c(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var Bc={zeros:Lc,setLength:Oc,setLengthRight:qf,isHexString:Pc,stripHexPrefix:$c,toBuffer:Wn,bufferToHex:Gf,keccak:Jf};const wt=Bc,mt=fn;function Fc(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function jt(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function ra(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Dc(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function pt(e){var t=typeof e;if(t==="string")return wt.isHexString(e)?new mt(wt.stripHexPrefix(e),16):new mt(e,10);if(t==="number")return new mt(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function ze(e,t){var r,n,s,i;if(e==="address")return ze("uint160",pt(t));if(e==="bool")return ze("uint8",t?1:0);if(e==="string")return ze("bytes",new G(t,"utf8"));if(Qf(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Dc(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);s=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(i in t)s.push(ze(e,t[i]));if(r==="dynamic"){var o=ze("uint256",t.length);s.unshift(o)}return G.concat(s)}else{if(e==="bytes")return t=new G(t),s=G.concat([ze("uint256",t.length),t]),t.length%32!==0&&(s=G.concat([s,wt.zeros(32-t.length%32)])),s;if(e.startsWith("bytes")){if(r=jt(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return wt.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=jt(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=pt(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(G,"be",32)}else if(e.startsWith("int")){if(r=jt(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=pt(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(G,"be",32)}else if(e.startsWith("ufixed")){if(r=ra(e),n=pt(t),n<0)throw new Error("Supplied ufixed is negative");return ze("uint256",n.mul(new mt(2).pow(new mt(r[1]))))}else if(e.startsWith("fixed"))return r=ra(e),ze("int256",pt(t).mul(new mt(2).pow(new mt(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function Kf(e){return e==="string"||e==="bytes"||Dc(e)==="dynamic"}function Qf(e){return e.lastIndexOf("]")===e.length-1}function Yf(e,t){var r=[],n=[],s=32*e.length;for(var i in e){var o=Fc(e[i]),a=t[i],c=ze(o,a);Kf(o)?(r.push(ze("uint256",s)),n.push(c),s+=c.length):r.push(c)}return G.concat(r.concat(n))}function jc(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,s=[],i=0;i<e.length;i++){var o=Fc(e[i]),a=t[i];if(o==="bytes")s.push(a);else if(o==="string")s.push(new G(a,"utf8"));else if(o==="bool")s.push(new G(a?"01":"00","hex"));else if(o==="address")s.push(wt.setLength(a,20));else if(o.startsWith("bytes")){if(r=jt(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);s.push(wt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=jt(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=pt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());s.push(n.toArrayLike(G,"be",r/8))}else if(o.startsWith("int")){if(r=jt(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=pt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());s.push(n.toTwos(r).toArrayLike(G,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return G.concat(s)}function Xf(e,t){return wt.keccak(jc(e,t))}var e0={rawEncode:Yf,solidityPack:jc,soliditySHA3:Xf};const Fe=Bc,dr=e0,Hc={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},wi={encodeData(e,t,r,n=!0){const s=["bytes32"],i=[this.hashType(e,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Fe.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Fe.keccak(l)];if(c==="string")return typeof l=="string"&&(l=G.from(l,"utf8")),["bytes32",Fe.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),h=l.map(d=>o(a,u,d));return["bytes32",Fe.keccak(dr.rawEncode(h.map(([d])=>d),h.map(([,d])=>d)))]}return[c,l]};for(const a of r[e]){const[c,l]=o(a.name,a.type,t[a.name]);s.push(c),i.push(l)}}else for(const o of r[e]){let a=t[o.name];if(a!==void 0)if(o.type==="bytes")s.push("bytes32"),a=Fe.keccak(a),i.push(a);else if(o.type==="string")s.push("bytes32"),typeof a=="string"&&(a=G.from(a,"utf8")),a=Fe.keccak(a),i.push(a);else if(r[o.type]!==void 0)s.push("bytes32"),a=Fe.keccak(this.encodeData(o.type,a,r,n)),i.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(o.type),i.push(a)}}return dr.rawEncode(s,i)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(s=>s!==e);n=[e].concat(n.sort());for(const s of n){if(!t[s])throw new Error("No type definition specified: "+s);r+=s+"("+t[s].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const s of this.findTypeDependencies(n.type,t,r))!r.includes(s)&&r.push(s);return r},hashStruct(e,t,r,n=!0){return Fe.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Fe.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Hc.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[G.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Fe.keccak(G.concat(n))}};var t0={TYPED_MESSAGE_SCHEMA:Hc,TypedDataUtils:wi,hashForSignTypedDataLegacy:function(e){return r0(e.data)},hashForSignTypedData_v3:function(e){return wi.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return wi.hash(e.data)}};function r0(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(i){return i.type==="bytes"?Fe.toBuffer(i.value):i.value}),n=e.map(function(i){return i.type}),s=e.map(function(i){if(!i.name)throw t;return i.type+" "+i.name});return dr.soliditySHA3(["bytes32","bytes32"],[dr.soliditySHA3(new Array(e.length).fill("string"),s),dr.soliditySHA3(n,r)])}var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.filterFromParam=Gt.FilterPolyfill=void 0;const Bt=pe,Se=O,n0=5*60*1e3,bt={jsonrpc:"2.0",id:0};class s0{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Bt.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){const r=Uc(t),n=this.makeFilterId(),s=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",s),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Se.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,Se.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,Se.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,Se.intNumberFromHexString)(t);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,Se.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Kr())}async getFilterLogs(t){const r=(0,Se.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},bt),{method:"eth_getLogs",params:[na(n)]})):Kr()}makeFilterId(){return(0,Bt.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(s,i)=>{if(s)return n(s);if(Array.isArray(i)||i==null)return n(new Error(`unexpected response received: ${JSON.stringify(i)}`));r(i)})})}deleteFilter(t){console.info(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return Kr();const s=await this.getCurrentBlockHeight(),i=r.toBlock==="latest"?s:r.toBlock;if(n>s||n>Number(r.toBlock))return Qr();console.info(`Fetching logs from ${n} to ${i} for filter ${t}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},bt),{method:"eth_getLogs",params:[na(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:i}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,Se.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,Bt.IntNumber)(c+1);console.info(`Moving cursor position for filter (${t}) from ${n} to ${l}`),this.cursors.set(t,l)}}return o}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return Kr();const n=await this.getCurrentBlockHeight();if(r>n)return Qr();console.info(`Fetching blocks from ${r} to ${n} for filter (${t})`);const s=(await Promise.all((0,Se.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Bt.IntNumber)(o))))).filter(o=>!!o),i=(0,Bt.IntNumber)(r+s.length);return console.info(`Moving cursor position for filter (${t}) from ${r} to ${i}`),this.cursors.set(t,i),Object.assign(Object.assign({},bt),{result:s})}async getPendingTransactionFilterChanges(t){return Promise.resolve(Qr())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),s=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,s),s}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.info(`Filter (${t}) timed out`),this.deleteFilter(t)},n0);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},bt),{method:"eth_blockNumber",params:[]}));return(0,Se.intNumberFromHexString)((0,Se.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},bt),{method:"eth_getBlockByNumber",params:[(0,Se.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Se.ensureHexString)(r.result.hash):null}}Gt.FilterPolyfill=s0;function Uc(e){return{fromBlock:sa(e.fromBlock),toBlock:sa(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}Gt.filterFromParam=Uc;function na(e){const t={fromBlock:ia(e.fromBlock),toBlock:ia(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function sa(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,Bt.IntNumber)(0);if((0,Se.isHexString)(e))return(0,Se.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function ia(e){return e==="latest"?e:(0,Se.hexStringFromIntNumber)(e)}function Kr(){return Object.assign(Object.assign({},bt),{error:{code:-32e3,message:"filter not found"}})}function Qr(){return Object.assign(Object.assign({},bt),{result:[]})}var Vn={},Wc={},zn={},Xi=i0;function i0(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const oa=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let s=0;s<arguments.length;s++)n[s]=arguments[s];return new r((s,i)=>{t.errorFirst?n.push(function(o,a){if(t.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),i(c)):s(c)}else o?i(o):s(a)}):n.push(function(o){if(t.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];s(a)}else s(o)}),e.apply(this,n)})};var o0=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=s=>{const i=o=>typeof o=="string"?s===o:o.test(s);return t.include?t.include.some(i):!t.exclude.some(i)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):oa(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];n[s]=typeof i=="function"&&r(s)?oa(i,t):i}return n},xr={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const a0=gn;function aa(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function c0(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let l0=class extends a0.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")aa(i,this,r);else{const o=i.length,a=c0(i);for(let c=0;c<o;c+=1)aa(a[c],this,r)}return!0}};Lr.default=l0;var u0=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xr,"__esModule",{value:!0});xr.BaseBlockTracker=void 0;const d0=u0(Lr),h0=1e3,f0=(e,t)=>e+t,ca=["sync","latest"];class g0 extends d0.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*h0,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){ca.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ca.map(t=>this.listenerCount(t)).reduce(f0)}_shouldUseNewBlock(t){const r=this._currentBlock;if(!r)return!0;const n=la(t),s=la(r);return this._usePastBlocks&&n<s||n>s}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}xr.BaseBlockTracker=g0;function la(e){return Number.parseInt(e,16)}var Vc={},zc={},ve={};class qc extends TypeError{constructor(t,r){let n;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function p0(e){return Pe(e)&&typeof e[Symbol.iterator]=="function"}function Pe(e){return typeof e=="object"&&e!=null}function ua(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function be(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function b0(e){const{done:t,value:r}=e.next();return t?void 0:r}function m0(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${be(n)}\``}=e;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...e,message:c}}function*Oi(e,t,r,n){p0(e)||(e=[e]);for(const s of e){const i=m0(s,t,r,n);i&&(yield i)}}function*eo(e,t,r={}){const{path:n=[],branch:s=[e],coerce:i=!1,mask:o=!1}=r,a={path:n,branch:s};if(i&&(e=t.coercer(e,a),o&&t.type!=="type"&&Pe(t.schema)&&Pe(e)&&!Array.isArray(e)))for(const l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,h]of t.entries(e,a)){const d=eo(u,h,{path:l===void 0?n:[...n,l],branch:l===void 0?s:[...s,u],coerce:i,mask:o,message:r.message});for(const b of d)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):i&&(u=b[1],l===void 0?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):Pe(e)&&(u!==void 0||l in e)&&(e[l]=u))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}class fe{constructor(t){const{type:r,schema:n,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,s?this.validator=(c,l)=>{const u=s(c,l);return Oi(u,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{const u=i(c,l);return Oi(u,l,this,c)}:this.refiner=()=>[]}assert(t,r){return Gc(t,this,r)}create(t,r){return Jc(t,this,r)}is(t){return to(t,this)}mask(t,r){return Zc(t,this,r)}validate(t,r={}){return nr(t,this,r)}}function Gc(e,t,r){const n=nr(e,t,{message:r});if(n[0])throw n[0]}function Jc(e,t,r){const n=nr(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Zc(e,t,r){const n=nr(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function to(e,t){return!nr(e,t)[0]}function nr(e,t,r={}){const n=eo(e,t,r),s=b0(n);return s[0]?[new qc(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function _0(...e){const t=e[0].type==="type",r=e.map(s=>s.schema),n=Object.assign({},...r);return t?Pr(n):Or(n)}function ke(e,t){return new fe({type:e,schema:null,validator:t})}function y0(e,t){return new fe({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function w0(e){return new fe({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function v0(e){let t;return new fe({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function E0(e,t){const{schema:r}=e,n={...r};for(const s of t)delete n[s];switch(e.type){case"type":return Pr(n);default:return Or(n)}}function S0(e){const t=e instanceof fe,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Kc(r[n]);return t&&e.type==="type"?Pr(r):Or(r)}function R0(e,t){const{schema:r}=e,n={};for(const s of t)n[s]=r[s];switch(e.type){case"type":return Pr(n);default:return Or(n)}}function C0(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ke(e,t)}function k0(){return ke("any",()=>!0)}function I0(e){return new fe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${be(t)}`}})}function A0(){return ke("bigint",e=>typeof e=="bigint")}function T0(){return ke("boolean",e=>typeof e=="boolean")}function M0(){return ke("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${be(e)}`)}function N0(e){const t={},r=e.map(n=>be(n)).join();for(const n of e)t[n]=n;return new fe({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${be(n)}`}})}function x0(){return ke("func",e=>typeof e=="function"||`Expected a function, but received: ${be(e)}`)}function L0(e){return ke("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${be(t)}`)}function O0(){return ke("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${be(e)}`)}function P0(e){return new fe({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function $0(e){const t=be(e),r=typeof e;return new fe({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${be(n)}`}})}function B0(e,t){return new fe({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,e],yield[n,s,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${be(r)}`}})}function ro(){return ke("never",()=>!1)}function F0(e){return new fe({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function D0(){return ke("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${be(e)}`)}function Or(e){const t=e?Object.keys(e):[],r=ro();return new fe({type:"object",schema:e||null,*entries(n){if(e&&Pe(n)){const s=new Set(Object.keys(n));for(const i of t)s.delete(i),yield[i,n[i],e[i]];for(const i of s)yield[i,n[i],r]}},validator(n){return Pe(n)||`Expected an object, but received: ${be(n)}`},coercer(n){return Pe(n)?{...n}:n}})}function Kc(e){return new fe({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function j0(e,t){return new fe({type:"record",schema:null,*entries(r){if(Pe(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator(r){return Pe(r)||`Expected an object, but received: ${be(r)}`}})}function H0(){return ke("regexp",e=>e instanceof RegExp)}function U0(e){return new fe({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${be(t)}`}})}function Qc(){return ke("string",e=>typeof e=="string"||`Expected a string, but received: ${be(e)}`)}function W0(e){const t=ro();return new fe({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${be(r)}`}})}function Pr(e){const t=Object.keys(e);return new fe({type:"type",schema:e,*entries(r){if(Pe(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Pe(r)||`Expected an object, but received: ${be(r)}`},coercer(r){return Pe(r)?{...r}:r}})}function V0(e){const t=e.map(r=>r.type).join(" | ");return new fe({type:"union",schema:null,coercer(r){for(const n of e){const[s,i]=n.validate(r,{coerce:!0});if(!s)return i}return r},validator(r,n){const s=[];for(const i of e){const[...o]=eo(r,i,n),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${be(r)}`,...s]}})}function Yc(){return ke("unknown",()=>!0)}function no(e,t,r){return new fe({...e,coercer:(n,s)=>to(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}function z0(e,t,r={}){return no(e,Yc(),n=>{const s=typeof t=="function"?t():t;if(n===void 0)return s;if(!r.strict&&ua(n)&&ua(s)){const i={...n};let o=!1;for(const a in s)i[a]===void 0&&(i[a]=s[a],o=!0);if(o)return i}return n})}function q0(e){return no(e,Qc(),t=>t.trim())}function G0(e){return kt(e,"empty",t=>{const r=Xc(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Xc(e){return e instanceof Map||e instanceof Set?e.size:e.length}function J0(e,t,r={}){const{exclusive:n}=r;return kt(e,"max",s=>n?s<t:s<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${s}\``)}function Z0(e,t,r={}){const{exclusive:n}=r;return kt(e,"min",s=>n?s>t:s>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${s}\``)}function K0(e){return kt(e,"nonempty",t=>Xc(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Q0(e,t){return kt(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Y0(e,t,r=t){const n=`Expected a ${e.type}`,s=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return kt(e,"size",i=>{if(typeof i=="number"||i instanceof Date)return t<=i&&i<=r||`${n} ${s} but received \`${i}\``;if(i instanceof Map||i instanceof Set){const{size:o}=i;return t<=o&&o<=r||`${n} with a size ${s} but received one with a size of \`${o}\``}else{const{length:o}=i;return t<=o&&o<=r||`${n} with a length ${s} but received one with a length of \`${o}\``}})}function kt(e,t,r){return new fe({...e,*refiner(n,s){yield*e.refiner(n,s);const i=r(n,s),o=Oi(i,s,e,n);for(const a of o)yield{...a,refinement:t}}})}const X0=Object.freeze(Object.defineProperty({__proto__:null,Struct:fe,StructError:qc,any:k0,array:I0,assert:Gc,assign:_0,bigint:A0,boolean:T0,coerce:no,create:Jc,date:M0,defaulted:z0,define:ke,deprecated:y0,dynamic:w0,empty:G0,enums:N0,func:x0,instance:L0,integer:O0,intersection:P0,is:to,lazy:v0,literal:$0,map:B0,mask:Zc,max:J0,min:Z0,never:ro,nonempty:K0,nullable:F0,number:D0,object:Or,omit:E0,optional:Kc,partial:S0,pattern:Q0,pick:R0,record:j0,refine:kt,regexp:H0,set:U0,size:Y0,string:Qc,struct:C0,trimmed:q0,tuple:W0,type:Pr,union:V0,unknown:Yc,validate:nr},Symbol.toStringTag,{value:"Module"})),It=mr(X0);Object.defineProperty(ve,"__esModule",{value:!0});ve.assertExhaustive=ve.assertStruct=ve.assert=ve.AssertionError=void 0;const e1=It;function t1(e){return typeof e=="object"&&e!==null&&"message"in e}function r1(e){var t,r;return typeof((r=(t=e?.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function n1(e){const t=t1(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function el(e,t){return r1(e)?new e({message:t}):e({message:t})}class so extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}ve.AssertionError=so;function s1(e,t="Assertion failed.",r=so){if(!e)throw t instanceof Error?t:el(r,t)}ve.assert=s1;function i1(e,t,r="Assertion failed",n=so){try{(0,e1.assert)(e,t)}catch(s){throw el(n,`${r}: ${n1(s)}.`)}}ve.assertStruct=i1;function o1(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}ve.assertExhaustive=o1;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.base64=void 0;const a1=It,c1=ve,l1=(e,t={})=>{var r,n;const s=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,i=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let o;i==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,c1.assert)(i==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return s?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,a1.pattern)(e,a)};$r.base64=l1;var te={},Br={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=It,r=ve;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,t.is)(l,e.HexStruct)}e.isHexString=n;function s(l){return(0,t.is)(l,e.StrictHexStruct)}e.isStrictHexString=s;function i(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}e.assertIsHexString=i;function o(l){(0,r.assert)(s(l),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}e.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}e.remove0x=c})(Br);Object.defineProperty(te,"__esModule",{value:!0});te.createDataView=te.concatBytes=te.valueToBytes=te.stringToBytes=te.numberToBytes=te.signedBigIntToBytes=te.bigIntToBytes=te.hexToBytes=te.bytesToString=te.bytesToNumber=te.bytesToSignedBigInt=te.bytesToBigInt=te.bytesToHex=te.assertIsBytes=te.isBytes=void 0;const Te=ve,Pi=Br,da=48,ha=58,fa=87;function u1(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const d1=u1();function io(e){return e instanceof Uint8Array}te.isBytes=io;function sr(e){(0,Te.assert)(io(e),"Value must be a Uint8Array.")}te.assertIsBytes=sr;function tl(e){if(sr(e),e.length===0)return"0x";const t=d1(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Pi.add0x)(r.join(""))}te.bytesToHex=tl;function rl(e){sr(e);const t=tl(e);return BigInt(t)}te.bytesToBigInt=rl;function h1(e){sr(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}te.bytesToSignedBigInt=h1;function f1(e){sr(e);const t=rl(e);return(0,Te.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}te.bytesToNumber=f1;function g1(e){return sr(e),new TextDecoder().decode(e)}te.bytesToString=g1;function qn(e){var t;if(((t=e?.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Pi.assertIsHexString)(e);const r=(0,Pi.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const o=n.charCodeAt(i*2),a=n.charCodeAt(i*2+1),c=o-(o<ha?da:fa),l=a-(a<ha?da:fa);s[i]=c*16+l}return s}te.hexToBytes=qn;function nl(e){(0,Te.assert)(typeof e=="bigint","Value must be a bigint."),(0,Te.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return qn(t)}te.bigIntToBytes=nl;function p1(e,t){(0,Te.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function b1(e,t){(0,Te.assert)(typeof e=="bigint","Value must be a bigint."),(0,Te.assert)(typeof t=="number","Byte length must be a number."),(0,Te.assert)(t>0,"Byte length must be greater than 0."),(0,Te.assert)(p1(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}te.signedBigIntToBytes=b1;function sl(e){(0,Te.assert)(typeof e=="number","Value must be a number."),(0,Te.assert)(e>=0,"Value must be a non-negative number."),(0,Te.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return qn(t)}te.numberToBytes=sl;function il(e){return(0,Te.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}te.stringToBytes=il;function ol(e){if(typeof e=="bigint")return nl(e);if(typeof e=="number")return sl(e);if(typeof e=="string")return e.startsWith("0x")?qn(e):il(e);if(io(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}te.valueToBytes=ol;function m1(e){const t=new Array(e.length);let r=0;for(let s=0;s<e.length;s++){const i=ol(e[s]);t[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<t.length;s++)n.set(t[s],i),i+=t[s].length;return n}te.concatBytes=m1;function _1(e){if(typeof G<"u"&&e instanceof G){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}te.createDataView=_1;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.ChecksumStruct=void 0;const ga=It,y1=$r;Gn.ChecksumStruct=(0,ga.size)((0,y1.base64)((0,ga.string)(),{paddingRequired:!0}),44,44);var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.createHex=Ze.createBytes=Ze.createBigInt=Ze.createNumber=void 0;const de=It,w1=ve,al=te,Jn=Br,cl=(0,de.union)([(0,de.number)(),(0,de.bigint)(),(0,de.string)(),Jn.StrictHexStruct]),v1=(0,de.coerce)((0,de.number)(),cl,Number),E1=(0,de.coerce)((0,de.bigint)(),cl,BigInt);(0,de.union)([Jn.StrictHexStruct,(0,de.instance)(Uint8Array)]);const S1=(0,de.coerce)((0,de.instance)(Uint8Array),(0,de.union)([Jn.StrictHexStruct]),al.hexToBytes),R1=(0,de.coerce)(Jn.StrictHexStruct,(0,de.instance)(Uint8Array),al.bytesToHex);function C1(e){try{const t=(0,de.create)(e,v1);return(0,w1.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof de.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}Ze.createNumber=C1;function k1(e){try{return(0,de.create)(e,E1)}catch(t){throw t instanceof de.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}Ze.createBigInt=k1;function I1(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,de.create)(e,S1)}catch(t){throw t instanceof de.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ze.createBytes=I1;function A1(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,de.create)(e,R1)}catch(t){throw t instanceof de.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ze.createHex=A1;var Jt={},ll=H&&H.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},Re=H&&H.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Be,We;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.FrozenSet=Jt.FrozenMap=void 0;class oo{constructor(t){Be.set(this,void 0),ll(this,Be,new Map(t),"f"),Object.freeze(this)}get size(){return Re(this,Be,"f").size}[(Be=new WeakMap,Symbol.iterator)](){return Re(this,Be,"f")[Symbol.iterator]()}entries(){return Re(this,Be,"f").entries()}forEach(t,r){return Re(this,Be,"f").forEach((n,s,i)=>t.call(r,n,s,this))}get(t){return Re(this,Be,"f").get(t)}has(t){return Re(this,Be,"f").has(t)}keys(){return Re(this,Be,"f").keys()}values(){return Re(this,Be,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}Jt.FrozenMap=oo;class ao{constructor(t){We.set(this,void 0),ll(this,We,new Set(t),"f"),Object.freeze(this)}get size(){return Re(this,We,"f").size}[(We=new WeakMap,Symbol.iterator)](){return Re(this,We,"f")[Symbol.iterator]()}entries(){return Re(this,We,"f").entries()}forEach(t,r){return Re(this,We,"f").forEach((n,s,i)=>t.call(r,n,s,this))}has(t){return Re(this,We,"f").has(t)}keys(){return Re(this,We,"f").keys()}values(){return Re(this,We,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}Jt.FrozenSet=ao;Object.freeze(oo);Object.freeze(oo.prototype);Object.freeze(ao);Object.freeze(ao.prototype);var ul={};Object.defineProperty(ul,"__esModule",{value:!0});var dl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=It,r=ve,n=()=>(0,t.define)("finite number",R=>(0,t.is)(R,(0,t.number)())&&Number.isFinite(R));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(R,T)=>{function U(B,P){const ce=[...P.validator(B,T)];return ce.length>0?ce:!0}try{const B=U(R,e.UnsafeJsonStruct);return B!==!0?B:U(JSON.parse(JSON.stringify(R)),e.UnsafeJsonStruct)}catch(B){return B instanceof RangeError?"Circular reference detected":!1}});function s(R){return(0,t.is)(R,e.JsonStruct)}e.isValidJson=s;function i(R){(0,r.assertStruct)(R,e.JsonStruct,"Invalid JSON value");const T=JSON.stringify(R);return new TextEncoder().encode(T).byteLength}e.getJsonSize=i,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function o(R){return(0,t.is)(R,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=o;function a(R,T){(0,r.assertStruct)(R,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",T)}e.assertIsJsonRpcNotification=a;function c(R){return(0,t.is)(R,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=c;function l(R,T){(0,r.assertStruct)(R,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",T)}e.assertIsJsonRpcRequest=l,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function u(R){return(0,t.is)(R,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=u;function h(R,T){(0,r.assertStruct)(R,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",T)}e.assertIsPendingJsonRpcResponse=h;function d(R){return(0,t.is)(R,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=d;function b(R,T){(0,r.assertStruct)(R,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",T)}e.assertIsJsonRpcResponse=b;function E(R){return(0,t.is)(R,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=E;function _(R,T){(0,r.assertStruct)(R,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",T)}e.assertIsJsonRpcSuccess=_;function S(R){return(0,t.is)(R,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=S;function p(R,T){(0,r.assertStruct)(R,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",T)}e.assertIsJsonRpcFailure=p;function m(R){return(0,t.is)(R,e.JsonRpcErrorStruct)}e.isJsonRpcError=m;function y(R,T){(0,r.assertStruct)(R,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",T)}e.assertIsJsonRpcError=y;function C(R){const{permitEmptyString:T,permitFractions:U,permitNull:B}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},R);return Y=>!!(typeof Y=="number"&&(U||Number.isInteger(Y))||typeof Y=="string"&&(T||Y.length>0)||B&&Y===null)}e.getJsonRpcIdValidator=C})(dl);var hl={};Object.defineProperty(hl,"__esModule",{value:!0});var Zt={},$i={exports:{}},vi,pa;function T1(){if(pa)return vi;pa=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;vi=function(u,h){h=h||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return h.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(h){var d=parseFloat(h[1]),b=(h[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var h=Math.abs(u);return h>=n?Math.round(u/n)+"d":h>=r?Math.round(u/r)+"h":h>=t?Math.round(u/t)+"m":h>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var h=Math.abs(u);return h>=n?l(u,h,n,"day"):h>=r?l(u,h,r,"hour"):h>=t?l(u,h,t,"minute"):h>=e?l(u,h,e,"second"):u+" ms"}function l(u,h,d,b){var E=h>=d*1.5;return Math.round(u/d)+" "+b+(E?"s":"")}return vi}function M1(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=s,r.enabled=a,r.humanize=T1(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(u){let h,d=null,b,E;function _(...S){if(!_.enabled)return;const p=_,m=Number(new Date),y=m-(h||m);p.diff=y,p.prev=h,p.curr=m,h=m,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let C=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(T,U)=>{if(T==="%%")return"%";C++;const B=r.formatters[U];if(typeof B=="function"){const P=S[C];T=B.call(p,P),S.splice(C,1),C--}return T}),r.formatArgs.call(p,S),(p.log||r.log).apply(p,S)}return _.namespace=u,_.useColors=r.useColors(),_.color=r.selectColor(u),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(b!==r.namespaces&&(b=r.namespaces,E=r.enabled(u)),E),set:S=>{d=S}}),typeof r.init=="function"&&r.init(_),_}function n(u,h){const d=r(this.namespace+(typeof h>"u"?":":h)+u);return d.log=this.log,d}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];const h=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of h)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function i(u,h){let d=0,b=0,E=-1,_=0;for(;d<u.length;)if(b<h.length&&(h[b]===u[d]||h[b]==="*"))h[b]==="*"?(E=b,_=d,b++):(d++,b++);else if(E!==-1)b=E+1,_++,d=_;else return!1;for(;b<h.length&&h[b]==="*";)b++;return b===h.length}function o(){const u=[...r.names,...r.skips.map(h=>"-"+h)].join(",");return r.enable(""),u}function a(u){for(const h of r.skips)if(i(u,h))return!1;for(const h of r.names)if(i(u,h))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var N1=M1;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let h=0,d=0;l[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(h++,b==="%c"&&(d=h))}),l.splice(d,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!l&&typeof ne<"u"&&"env"in ne&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=N1(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})($i,$i.exports);var x1=$i.exports,L1=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.createModuleLogger=Zt.createProjectLogger=void 0;const O1=L1(x1),P1=(0,O1.default)("metamask");function $1(e){return P1.extend(e)}Zt.createProjectLogger=$1;function B1(e,t){return e.extend(t)}Zt.createModuleLogger=B1;var fl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(l){return Array.isArray(l)&&l.length>0}e.isNonEmptyArray=t;function r(l){return l==null}e.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}e.isObject=n;const s=(l,u)=>Object.hasOwnProperty.call(l,u);e.hasProperty=s,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function i(l){if(typeof l!="object"||l===null)return!1;try{let u=l;for(;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(l)===u}catch{return!1}}e.isPlainObject=i;function o(l){return l.charCodeAt(0)<=127}e.isASCII=o;function a(l){var u;return l.split("").reduce((d,b)=>o(b)?d+1:d+2,0)+((u=l.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&u!==void 0?u:[]).length}e.calculateStringSize=a;function c(l){return l.toString().length}e.calculateNumberSize=c})(fl);var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.hexToBigInt=Ke.hexToNumber=Ke.bigIntToHex=Ke.numberToHex=void 0;const Ht=ve,gr=Br,F1=e=>((0,Ht.assert)(typeof e=="number","Value must be a number."),(0,Ht.assert)(e>=0,"Value must be a non-negative number."),(0,Ht.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,gr.add0x)(e.toString(16)));Ke.numberToHex=F1;const D1=e=>((0,Ht.assert)(typeof e=="bigint","Value must be a bigint."),(0,Ht.assert)(e>=0,"Value must be a non-negative bigint."),(0,gr.add0x)(e.toString(16)));Ke.bigIntToHex=D1;const j1=e=>{(0,gr.assertIsHexString)(e);const t=parseInt(e,16);return(0,Ht.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Ke.hexToNumber=j1;const H1=e=>((0,gr.assertIsHexString)(e),BigInt((0,gr.add0x)(e)));Ke.hexToBigInt=H1;var gl={};Object.defineProperty(gl,"__esModule",{value:!0});var pl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(i){i[i.Millisecond=1]="Millisecond",i[i.Second=1e3]="Second",i[i.Minute=6e4]="Minute",i[i.Hour=36e5]="Hour",i[i.Day=864e5]="Day",i[i.Week=6048e5]="Week",i[i.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=i=>Number.isInteger(i)&&i>=0,r=(i,o)=>{if(!t(i))throw new Error(`"${o}" must be a non-negative integer. Received: "${i}".`)};function n(i,o){return r(i,"count"),i*o}e.inMilliseconds=n;function s(i){return r(i,"timestamp"),Date.now()-i}e.timeSince=s})(pl);var bl={};Object.defineProperty(bl,"__esModule",{value:!0});var ml={},Bi={exports:{}};const U1="2.0.0",_l=256,W1=Number.MAX_SAFE_INTEGER||9007199254740991,V1=16,z1=_l-6,q1=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Zn={MAX_LENGTH:_l,MAX_SAFE_COMPONENT_LENGTH:V1,MAX_SAFE_BUILD_LENGTH:z1,MAX_SAFE_INTEGER:W1,RELEASE_TYPES:q1,SEMVER_SPEC_VERSION:U1,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ei={};const G1=typeof ne=="object"&&Ei&&Ei.NODE_DEBUG&&/\bsemver\b/i.test(Ei.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Kn=G1;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Zn,i=Kn;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],l=t.safeSrc=[],u=t.t={};let h=0;const d="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",s],[d,n]],E=S=>{for(const[p,m]of b)S=S.split(`${p}*`).join(`${p}{0,${m}}`).split(`${p}+`).join(`${p}{1,${m}}`);return S},_=(S,p,m)=>{const y=E(p),C=h++;i(S,C,p),u[S]=C,c[C]=p,l[C]=y,o[C]=new RegExp(p,m?"g":void 0),a[C]=new RegExp(y,m?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),_("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${d}+`),_("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),_("FULL",`^${c[u.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),_("LOOSE",`^${c[u.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),_("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",c[u.COERCE],!0),_("COERCERTLFULL",c[u.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Bi,Bi.exports);var Fr=Bi.exports;const J1=Object.freeze({loose:!0}),Z1=Object.freeze({}),K1=e=>e?typeof e!="object"?J1:e:Z1;var co=K1;const ba=/^[0-9]+$/,yl=(e,t)=>{const r=ba.test(e),n=ba.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Q1=(e,t)=>yl(t,e);var wl={compareIdentifiers:yl,rcompareIdentifiers:Q1};const Yr=Kn,{MAX_LENGTH:ma,MAX_SAFE_INTEGER:Xr}=Zn,{safeRe:en,t:tn}=Fr,Y1=co,{compareIdentifiers:Pt}=wl;let X1=class Ve{constructor(t,r){if(r=Y1(r),t instanceof Ve){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ma)throw new TypeError(`version is longer than ${ma} characters`);Yr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?en[tn.LOOSE]:en[tn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Xr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Xr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Xr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Xr)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Yr("SemVer.compare",this.version,this.options,t),!(t instanceof Ve)){if(typeof t=="string"&&t===this.version)return 0;t=new Ve(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ve||(t=new Ve(t,this.options)),Pt(this.major,t.major)||Pt(this.minor,t.minor)||Pt(this.patch,t.patch)}comparePre(t){if(t instanceof Ve||(t=new Ve(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Yr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Pt(n,s)}while(++r)}compareBuild(t){t instanceof Ve||(t=new Ve(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Yr("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Pt(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?en[tn.PRERELEASELOOSE]:en[tn.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),Pt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Dr=X1;const _a=Dr,eg=(e,t,r=!1)=>{if(e instanceof _a)return e;try{return new _a(e,t)}catch(n){if(!r)return null;throw n}};var tg=eg;const rg=tg,ng=(e,t)=>{const r=rg(e,t);return r?r.version:null};var sg=ng;const ya=Dr,ig=(e,t,r)=>new ya(e,r).compare(new ya(t,r));var ir=ig;const og=ir,ag=(e,t,r)=>og(e,t,r)>0;var lo=ag;const cg=ir,lg=(e,t,r)=>cg(e,t,r)<0;var vl=lg;const ug=ir,dg=(e,t,r)=>ug(e,t,r)===0;var hg=dg;const fg=ir,gg=(e,t,r)=>fg(e,t,r)!==0;var pg=gg;const bg=ir,mg=(e,t,r)=>bg(e,t,r)>=0;var El=mg;const _g=ir,yg=(e,t,r)=>_g(e,t,r)<=0;var Sl=yg;const wg=hg,vg=pg,Eg=lo,Sg=El,Rg=vl,Cg=Sl,kg=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return wg(e,r,n);case"!=":return vg(e,r,n);case">":return Eg(e,r,n);case">=":return Sg(e,r,n);case"<":return Rg(e,r,n);case"<=":return Cg(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Ig=kg;const{safeRe:hm,t:fm}=Fr;class Ag{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var Tg=Ag,Si,wa;function je(){if(wa)return Si;wa=1;const e=/\s+/g;class t{constructor(I,$){if($=s($),I instanceof t)return I.loose===!!$.loose&&I.includePrerelease===!!$.includePrerelease?I:new t(I.raw,$);if(I instanceof i)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=I.trim().replace(e," "),this.set=this.raw.split("||").map(x=>this.parseRange(x.trim())).filter(x=>x.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const x=this.set[0];if(this.set=this.set.filter(F=>!_(F[0])),this.set.length===0)this.set=[x];else if(this.set.length>1){for(const F of this.set)if(F.length===1&&S(F[0])){this.set=[F];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const $=this.set[I];for(let x=0;x<$.length;x++)x>0&&(this.formatted+=" "),this.formatted+=$[x].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const x=((this.options.includePrerelease&&b)|(this.options.loose&&E))+":"+I,F=n.get(x);if(F)return F;const L=this.options.loose,j=L?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];I=I.replace(j,ie(this.options.includePrerelease)),o("hyphen replace",I),I=I.replace(c[l.COMPARATORTRIM],u),o("comparator trim",I),I=I.replace(c[l.TILDETRIM],h),o("tilde trim",I),I=I.replace(c[l.CARETTRIM],d),o("caret trim",I);let K=I.split(" ").map(re=>m(re,this.options)).join(" ").split(/\s+/).map(re=>ce(re,this.options));L&&(K=K.filter(re=>(o("loose invalid filter",re,this.options),!!re.match(c[l.COMPARATORLOOSE])))),o("range list",K);const W=new Map,Q=K.map(re=>new i(re,this.options));for(const re of Q){if(_(re))return[re];W.set(re.value,re)}W.size>1&&W.has("")&&W.delete("");const he=[...W.values()];return n.set(x,he),he}intersects(I,$){if(!(I instanceof t))throw new TypeError("a Range is required");return this.set.some(x=>p(x,$)&&I.set.some(F=>p(F,$)&&x.every(L=>F.every(j=>L.intersects(j,$)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new a(I,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(oe(this.set[$],I,this.options))return!0;return!1}}Si=t;const r=Tg,n=new r,s=co,i=Qn(),o=Kn,a=Dr,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:d}=Fr,{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:E}=Zn,_=M=>M.value==="<0.0.0-0",S=M=>M.value==="",p=(M,I)=>{let $=!0;const x=M.slice();let F=x.pop();for(;$&&x.length;)$=x.every(L=>F.intersects(L,I)),F=x.pop();return $},m=(M,I)=>(o("comp",M,I),M=T(M,I),o("caret",M),M=C(M,I),o("tildes",M),M=B(M,I),o("xrange",M),M=Y(M,I),o("stars",M),M),y=M=>!M||M.toLowerCase()==="x"||M==="*",C=(M,I)=>M.trim().split(/\s+/).map($=>R($,I)).join(" "),R=(M,I)=>{const $=I.loose?c[l.TILDELOOSE]:c[l.TILDE];return M.replace($,(x,F,L,j,K)=>{o("tilde",M,x,F,L,j,K);let W;return y(F)?W="":y(L)?W=`>=${F}.0.0 <${+F+1}.0.0-0`:y(j)?W=`>=${F}.${L}.0 <${F}.${+L+1}.0-0`:K?(o("replaceTilde pr",K),W=`>=${F}.${L}.${j}-${K} <${F}.${+L+1}.0-0`):W=`>=${F}.${L}.${j} <${F}.${+L+1}.0-0`,o("tilde return",W),W})},T=(M,I)=>M.trim().split(/\s+/).map($=>U($,I)).join(" "),U=(M,I)=>{o("caret",M,I);const $=I.loose?c[l.CARETLOOSE]:c[l.CARET],x=I.includePrerelease?"-0":"";return M.replace($,(F,L,j,K,W)=>{o("caret",M,F,L,j,K,W);let Q;return y(L)?Q="":y(j)?Q=`>=${L}.0.0${x} <${+L+1}.0.0-0`:y(K)?L==="0"?Q=`>=${L}.${j}.0${x} <${L}.${+j+1}.0-0`:Q=`>=${L}.${j}.0${x} <${+L+1}.0.0-0`:W?(o("replaceCaret pr",W),L==="0"?j==="0"?Q=`>=${L}.${j}.${K}-${W} <${L}.${j}.${+K+1}-0`:Q=`>=${L}.${j}.${K}-${W} <${L}.${+j+1}.0-0`:Q=`>=${L}.${j}.${K}-${W} <${+L+1}.0.0-0`):(o("no pr"),L==="0"?j==="0"?Q=`>=${L}.${j}.${K}${x} <${L}.${j}.${+K+1}-0`:Q=`>=${L}.${j}.${K}${x} <${L}.${+j+1}.0-0`:Q=`>=${L}.${j}.${K} <${+L+1}.0.0-0`),o("caret return",Q),Q})},B=(M,I)=>(o("replaceXRanges",M,I),M.split(/\s+/).map($=>P($,I)).join(" ")),P=(M,I)=>{M=M.trim();const $=I.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return M.replace($,(x,F,L,j,K,W)=>{o("xRange",M,x,F,L,j,K,W);const Q=y(L),he=Q||y(j),re=he||y(K),w=re;return F==="="&&w&&(F=""),W=I.includePrerelease?"-0":"",Q?F===">"||F==="<"?x="<0.0.0-0":x="*":F&&w?(he&&(j=0),K=0,F===">"?(F=">=",he?(L=+L+1,j=0,K=0):(j=+j+1,K=0)):F==="<="&&(F="<",he?L=+L+1:j=+j+1),F==="<"&&(W="-0"),x=`${F+L}.${j}.${K}${W}`):he?x=`>=${L}.0.0${W} <${+L+1}.0.0-0`:re&&(x=`>=${L}.${j}.0${W} <${L}.${+j+1}.0-0`),o("xRange return",x),x})},Y=(M,I)=>(o("replaceStars",M,I),M.trim().replace(c[l.STAR],"")),ce=(M,I)=>(o("replaceGTE0",M,I),M.trim().replace(c[I.includePrerelease?l.GTE0PRE:l.GTE0],"")),ie=M=>(I,$,x,F,L,j,K,W,Q,he,re,w)=>(y(x)?$="":y(F)?$=`>=${x}.0.0${M?"-0":""}`:y(L)?$=`>=${x}.${F}.0${M?"-0":""}`:j?$=`>=${$}`:$=`>=${$}${M?"-0":""}`,y(Q)?W="":y(he)?W=`<${+Q+1}.0.0-0`:y(re)?W=`<${Q}.${+he+1}.0-0`:w?W=`<=${Q}.${he}.${re}-${w}`:M?W=`<${Q}.${he}.${+re+1}-0`:W=`<=${W}`,`${$} ${W}`.trim()),oe=(M,I,$)=>{for(let x=0;x<M.length;x++)if(!M[x].test(I))return!1;if(I.prerelease.length&&!$.includePrerelease){for(let x=0;x<M.length;x++)if(o(M[x].semver),M[x].semver!==i.ANY&&M[x].semver.prerelease.length>0){const F=M[x].semver;if(F.major===I.major&&F.minor===I.minor&&F.patch===I.patch)return!0}return!1}return!0};return Si}var Ri,va;function Qn(){if(va)return Ri;va=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,h){if(h=r(h),u instanceof t){if(u.loose===!!h.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,h),this.options=h,this.loose=!!h.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],d=u.match(h);if(!d)throw new TypeError(`Invalid comparator: ${u}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,h){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,h).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,h).test(u.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,h)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,h)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Ri=t;const r=co,{safeRe:n,t:s}=Fr,i=Ig,o=Kn,a=Dr,c=je();return Ri}const Mg=je(),Ng=(e,t,r)=>{try{t=new Mg(t,r)}catch{return!1}return t.test(e)};var Rl=Ng;je();je();je();je();const xg=je(),Lg=(e,t)=>{try{return new xg(e,t).range||"*"}catch{return null}};var Og=Lg;const Pg=Dr,Cl=Qn(),{ANY:$g}=Cl,Bg=je(),Fg=Rl,Ea=lo,Sa=vl,Dg=Sl,jg=El,Hg=(e,t,r,n)=>{e=new Pg(e,n),t=new Bg(t,n);let s,i,o,a,c;switch(r){case">":s=Ea,i=Dg,o=Sa,a=">",c=">=";break;case"<":s=Sa,i=jg,o=Ea,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Fg(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const u=t.set[l];let h=null,d=null;if(u.forEach(b=>{b.semver===$g&&(b=new Cl(">=0.0.0")),h=h||b,d=d||b,s(b.semver,h.semver,n)?h=b:o(b.semver,d.semver,n)&&(d=b)}),h.operator===a||h.operator===c||(!d.operator||d.operator===a)&&i(e,d.semver))return!1;if(d.operator===c&&o(e,d.semver))return!1}return!0};var Ug=Hg;const Wg=Ug,Vg=(e,t,r)=>Wg(e,t,">",r);var zg=Vg;je();je();const uo=Qn(),{ANY:gm}=uo;new uo(">=0.0.0-0");new uo(">=0.0.0");const Ci=Fr,Ra=Zn,Ca=wl,qg=sg,Gg=lo;Qn();je();const Jg=Rl,Zg=Og,Kg=zg;var Qg={valid:qg,gt:Gg,satisfies:Jg,validRange:Zg,gtr:Kg,re:Ci.re,src:Ci.src,tokens:Ci.t,SEMVER_SPEC_VERSION:Ra.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ra.RELEASE_TYPES,compareIdentifiers:Ca.compareIdentifiers,rcompareIdentifiers:Ca.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=Qg,r=It,n=ve;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,t.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,t.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function s(h){return(0,r.is)(h,e.VersionStruct)}e.isValidSemVerVersion=s;function i(h){return(0,r.is)(h,e.VersionRangeStruct)}e.isValidSemVerRange=i;function o(h){(0,n.assertStruct)(h,e.VersionStruct)}e.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,e.VersionRangeStruct)}e.assertIsSemVerRange=a;function c(h,d){return(0,t.gt)(h,d)}e.gtVersion=c;function l(h,d){return(0,t.gtr)(h,d)}e.gtRange=l;function u(h,d){return(0,t.satisfies)(h,d,{includePrerelease:!0})}e.satisfiesVersionRange=u})(ml);(function(e){var t=H&&H.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=H&&H.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(ve,e),r($r,e),r(te,e),r(Gn,e),r(Ze,e),r(Jt,e),r(ul,e),r(Br,e),r(dl,e),r(hl,e),r(Zt,e),r(fl,e),r(Ke,e),r(gl,e),r(pl,e),r(bl,e),r(ml,e)})(zc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=zc;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(Vc);var kl=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});zn.PollingBlockTracker=void 0;const Yg=kl(Xi),Xg=kl(o0),ep=xr,ka=Vc,Ia=(0,ka.createModuleLogger)(ka.projectLogger,"polling-block-tracker"),tp=(0,Yg.default)(),rp=1e3;class np extends ep.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*rp,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=Aa(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}const s=Aa(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await s}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:tp(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),Ia("Making request",t);const r=await(0,Xg.default)(n=>this._provider.sendAsync(t,n))();if(Ia("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}zn.PollingBlockTracker=np;function Aa(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var Yn={},sp=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.SubscribeBlockTracker=void 0;const ip=sp(Xi),op=xr,ap=(0,ip.default)();class cp extends op.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,s)=>{this._provider.sendAsync({id:ap(),method:t,params:r,jsonrpc:"2.0"},(i,o)=>{i?s(i):n(o.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Yn.SubscribeBlockTracker=cp;(function(e){var t=H&&H.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=H&&H.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(zn,e),r(Yn,e)})(Wc);var ho={},Xn={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.getUniqueId=void 0;const Il=4294967295;let ki=Math.floor(Math.random()*Il);function lp(){return ki=(ki+1)%Il,ki}jr.getUniqueId=lp;Object.defineProperty(Xn,"__esModule",{value:!0});Xn.createIdRemapMiddleware=void 0;const up=jr;function dp(){return(e,t,r,n)=>{const s=e.id,i=up.getUniqueId();e.id=i,t.id=i,r(o=>{e.id=s,t.id=s,o()})}}Xn.createIdRemapMiddleware=dp;var es={};Object.defineProperty(es,"__esModule",{value:!0});es.createAsyncMiddleware=void 0;function hp(e){return async(t,r,n,s)=>{let i;const o=new Promise(u=>{i=u});let a=null,c=!1;const l=async()=>{c=!0,n(u=>{a=u,i()}),await o};try{await e(t,r,l),c?(await o,a(null)):s(null)}catch(u){a?a(u):s(u)}}}es.createAsyncMiddleware=hp;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.createScaffoldMiddleware=void 0;function fp(e){return(t,r,n,s)=>{const i=e[t.method];return i===void 0?n():typeof i=="function"?i(t,r,n,s):(r.result=i,s())}}ts.createScaffoldMiddleware=fp;var Hr={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});const gp=gn;function Ta(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function pp(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let bp=class extends gp.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")Ta(i,this,r);else{const o=i.length,a=pp(i);for(let c=0;c<o;c+=1)Ta(a[c],this,r)}return!0}};fo.default=bp;var Al={},ct={},mp=pr;pr.default=pr;pr.stable=Nl;pr.stableStringify=Nl;var ln="[...]",Tl="[Circular]",vt=[],_t=[];function Ml(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function pr(e,t,r,n){typeof n>"u"&&(n=Ml()),Fi(e,"",0,[],void 0,0,n);var s;try{_t.length===0?s=JSON.stringify(e,t,r):s=JSON.stringify(e,xl(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;vt.length!==0;){var i=vt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function Ut(e,t,r,n){var s=Object.getOwnPropertyDescriptor(n,r);s.get!==void 0?s.configurable?(Object.defineProperty(n,r,{value:e}),vt.push([n,r,t,s])):_t.push([t,r,e]):(n[r]=e,vt.push([n,r,t]))}function Fi(e,t,r,n,s,i,o){i+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){Ut(Tl,e,t,s);return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){Ut(ln,e,t,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Ut(ln,e,t,s);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Fi(e[a],a,a,n,e,i,o);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var l=c[a];Fi(e[l],l,a,n,e,i,o)}}n.pop()}}function _p(e,t){return e<t?-1:e>t?1:0}function Nl(e,t,r,n){typeof n>"u"&&(n=Ml());var s=Di(e,"",0,[],void 0,0,n)||e,i;try{_t.length===0?i=JSON.stringify(s,t,r):i=JSON.stringify(s,xl(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;vt.length!==0;){var o=vt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Di(e,t,r,n,s,i,o){i+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){Ut(Tl,e,t,s);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){Ut(ln,e,t,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Ut(ln,e,t,s);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Di(e[a],a,a,n,e,i,o);else{var c={},l=Object.keys(e).sort(_p);for(a=0;a<l.length;a++){var u=l[a];Di(e[u],u,a,n,e,i,o),c[u]=e[u]}if(typeof s<"u")vt.push([s,t,e]),s[t]=c;else return c}n.pop()}}function xl(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(_t.length>0)for(var n=0;n<_t.length;n++){var s=_t[n];if(s[1]===t&&s[0]===r){r=s[2],_t.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(ct,"__esModule",{value:!0});ct.EthereumProviderError=ct.EthereumRpcError=void 0;const yp=mp;class Ll extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return yp.default(this.serialize(),Ep,2)}}ct.EthereumRpcError=Ll;class wp extends Ll{constructor(t,r,n){if(!vp(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}ct.EthereumProviderError=wp;function vp(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Ep(e,t){if(t!=="[Circular]")return t}var go={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.errorValues=lt.errorCodes=void 0;lt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};lt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=lt,r=ct,n=t.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",i={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,b=s){if(Number.isInteger(d)){const E=d.toString();if(h(t.errorValues,E))return t.errorValues[E].message;if(l(d))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return b}e.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const b=d.toString();return!!(t.errorValues[b]||l(d))}e.isValidCode=a;function c(d,{fallbackError:b=i,shouldIncludeStack:E=!1}={}){var _,S;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();const p={};if(d&&typeof d=="object"&&!Array.isArray(d)&&h(d,"code")&&a(d.code)){const y=d;p.code=y.code,y.message&&typeof y.message=="string"?(p.message=y.message,h(y,"data")&&(p.data=y.data)):(p.message=o(p.code),p.data={originalError:u(d)})}else{p.code=b.code;const y=(_=d)===null||_===void 0?void 0:_.message;p.message=y&&typeof y=="string"?y:b.message,p.data={originalError:u(d)}}const m=(S=d)===null||S===void 0?void 0:S.stack;return E&&d&&m&&typeof m=="string"&&(p.stack=m),p}e.serializeError=c;function l(d){return d>=-32099&&d<=-32e3}function u(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function h(d,b){return Object.prototype.hasOwnProperty.call(d,b)}})(go);var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.ethErrors=void 0;const po=ct,Ol=go,Ee=lt;rs.ethErrors={rpc:{parse:e=>Ne(Ee.errorCodes.rpc.parse,e),invalidRequest:e=>Ne(Ee.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Ne(Ee.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Ne(Ee.errorCodes.rpc.methodNotFound,e),internal:e=>Ne(Ee.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ne(t,e)},invalidInput:e=>Ne(Ee.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Ne(Ee.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Ne(Ee.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Ne(Ee.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Ne(Ee.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Ne(Ee.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>lr(Ee.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>lr(Ee.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>lr(Ee.errorCodes.provider.unsupportedMethod,e),disconnected:e=>lr(Ee.errorCodes.provider.disconnected,e),chainDisconnected:e=>lr(Ee.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new po.EthereumProviderError(t,r,n)}}};function Ne(e,t){const[r,n]=Pl(t);return new po.EthereumRpcError(e,r||Ol.getMessageFromCode(e),n)}function lr(e,t){const[r,n]=Pl(t);return new po.EthereumProviderError(e,r||Ol.getMessageFromCode(e),n)}function Pl(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=ct;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=go;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=rs;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const s=lt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(Al);var Sp=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.JsonRpcEngine=void 0;const Rp=Sp(fo),xe=Al;class Xe extends Rp.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,s)=>{try{const[i,o,a]=await Xe._runAllMiddleware(t,r,this._middleware);return o?(await Xe._runReturnHandlers(a),s(i)):n(async c=>{try{await Xe._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(i){return s(i)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,s)=>{r(s)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const o=new xe.EthereumRpcError(xe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){const o=new xe.EthereumRpcError(xe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(o,{id:t.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},t),s={id:n.id,jsonrpc:n.jsonrpc};let i=null;try{await this._processRequest(n,s)}catch(o){i=o}return i&&(delete s.result,s.error||(s.error=xe.serializeError(i))),r(i,s)}async _processRequest(t,r){const[n,s,i]=await Xe._runAllMiddleware(t,r,this._middleware);if(Xe._checkForCompletion(t,r,s),await Xe._runReturnHandlers(i),n)throw n}static async _runAllMiddleware(t,r,n){const s=[];let i=null,o=!1;for(const a of n)if([i,o]=await Xe._runMiddleware(t,r,a,s),o)break;return[i,o,s.reverse()]}static _runMiddleware(t,r,n,s){return new Promise(i=>{const o=c=>{const l=c||r.error;l&&(r.error=xe.serializeError(l)),i([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new xe.EthereumRpcError(xe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ii(t)}`,{request:t})),s.push(c)),i([null,!1]))};try{n(t,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,s)=>{r(i=>i?s(i):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new xe.EthereumRpcError(xe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ii(t)}`,{request:t});if(!n)throw new xe.EthereumRpcError(xe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ii(t)}`,{request:t})}}Hr.JsonRpcEngine=Xe;function Ii(e){return JSON.stringify(e,null,2)}var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.mergeMiddleware=void 0;const Cp=Hr;function kp(e){const t=new Cp.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}ns.mergeMiddleware=kp;(function(e){var t=H&&H.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=H&&H.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Xn,e),r(es,e),r(ts,e),r(jr,e),r(Hr,e),r(ns,e)})(ho);var $l={},bo={},ji=function(e,t){return ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ji(e,t)};function Bl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ji(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var un=function(){return un=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},un.apply(this,arguments)};function Fl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Dl(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function jl(e,t){return function(r,n){t(r,n,e)}}function Hl(e,t,r,n,s,i){function o(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),h,d=!1,b=r.length-1;b>=0;b--){var E={};for(var _ in n)E[_]=_==="access"?{}:n[_];for(var _ in n.access)E.access[_]=n.access[_];E.addInitializer=function(p){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(p||null))};var S=(0,r[b])(a==="accessor"?{get:u.get,set:u.set}:u[c],E);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=o(S.get))&&(u.get=h),(h=o(S.set))&&(u.set=h),(h=o(S.init))&&s.unshift(h)}else(h=o(S))&&(a==="field"?s.unshift(h):u[c]=h)}l&&Object.defineProperty(l,n.name,u),d=!0}function Ul(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Wl(e){return typeof e=="symbol"?e:"".concat(e)}function Vl(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function zl(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ql(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function Gl(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var ss=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Jl(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ss(t,e,r)}function dn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mo(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Zl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mo(arguments[t]));return e}function Kl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Ql(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Kt(e){return this instanceof Kt?(this.v=e,this):new Kt(e)}function Yl(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(b){return function(E){return Promise.resolve(E).then(b,h)}}function a(b,E){n[b]&&(s[b]=function(_){return new Promise(function(S,p){i.push([b,_,S,p])>1||c(b,_)})},E&&(s[b]=E(s[b])))}function c(b,E){try{l(n[b](E))}catch(_){d(i[0][3],_)}}function l(b){b.value instanceof Kt?Promise.resolve(b.value.v).then(u,h):d(i[0][2],b)}function u(b){c("next",b)}function h(b){c("throw",b)}function d(b,E){b(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Xl(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Kt(e[s](o)),done:!1}:i?i(o):o}:i}}function eu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof dn=="function"?dn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function tu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ip=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Hi=function(e){return Hi=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Hi(e)};function ru(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Hi(e),n=0;n<r.length;n++)r[n]!=="default"&&ss(t,e,r[n]);return Ip(t,e),t}function nu(e){return e&&e.__esModule?e:{default:e}}function su(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function iu(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function ou(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function au(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Ap=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function cu(e){function t(i){e.error=e.hasError?new Ap(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function lu(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const Tp={__extends:Bl,__assign:un,__rest:Fl,__decorate:Dl,__param:jl,__esDecorate:Hl,__runInitializers:Ul,__propKey:Wl,__setFunctionName:Vl,__metadata:zl,__awaiter:ql,__generator:Gl,__createBinding:ss,__exportStar:Jl,__values:dn,__read:mo,__spread:Zl,__spreadArrays:Kl,__spreadArray:Ql,__await:Kt,__asyncGenerator:Yl,__asyncDelegator:Xl,__asyncValues:eu,__makeTemplateObject:tu,__importStar:ru,__importDefault:nu,__classPrivateFieldGet:su,__classPrivateFieldSet:iu,__classPrivateFieldIn:ou,__addDisposableResource:au,__disposeResources:cu,__rewriteRelativeImportExtension:lu},Mp=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:au,get __assign(){return un},__asyncDelegator:Xl,__asyncGenerator:Yl,__asyncValues:eu,__await:Kt,__awaiter:ql,__classPrivateFieldGet:su,__classPrivateFieldIn:ou,__classPrivateFieldSet:iu,__createBinding:ss,__decorate:Dl,__disposeResources:cu,__esDecorate:Hl,__exportStar:Jl,__extends:Bl,__generator:Gl,__importDefault:nu,__importStar:ru,__makeTemplateObject:tu,__metadata:zl,__param:jl,__propKey:Wl,__read:mo,__rest:Fl,__rewriteRelativeImportExtension:lu,__runInitializers:Ul,__setFunctionName:Vl,__spread:Zl,__spreadArray:Ql,__spreadArrays:Kl,__values:dn,default:Tp},Symbol.toStringTag,{value:"Module"})),_o=mr(Mp);var is={};Object.defineProperty(is,"__esModule",{value:!0});var Ma=_o,Np=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(s){return t._queue.push(s)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return Ma.__awaiter(this,void 0,void 0,function(){var r,n,s;return Ma.__generator(this,function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:r=i.sent(),n=r[0],s=r[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,i.sent()];case 4:return s(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();is.default=Np;Object.defineProperty(bo,"__esModule",{value:!0});var Na=_o,xp=is,Lp=function(){function e(){this._semaphore=new xp.default(1)}return e.prototype.acquire=function(){return Na.__awaiter(this,void 0,void 0,function(){var t,r;return Na.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();bo.default=Lp;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.withTimeout=void 0;var rn=_o;function Op(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(s,i){return rn.__awaiter(n,void 0,void 0,function(){var o,a,c;return rn.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,i(r)},t),[4,e.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):s(a),[2]}})})})},runExclusive:function(s){return rn.__awaiter(this,void 0,void 0,function(){var i,o;return rn.__generator(this,function(a){switch(a.label){case 0:i=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(i=o[1],[4,s(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return i=o,[4,s()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return i(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}os.withTimeout=Op;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=bo;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=is;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=os;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})($l);var Pp=Bp,$p=Object.prototype.hasOwnProperty;function Bp(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)$p.call(r,n)&&(e[n]=r[n])}return e}const Fp=Pp,Dp=Xi();var jp=V;function V(e){const t=this;t.currentProvider=e}V.prototype.getBalance=Ur(2,"eth_getBalance");V.prototype.getCode=Ur(2,"eth_getCode");V.prototype.getTransactionCount=Ur(2,"eth_getTransactionCount");V.prototype.getStorageAt=Ur(3,"eth_getStorageAt");V.prototype.call=Ur(2,"eth_call");V.prototype.protocolVersion=Z("eth_protocolVersion");V.prototype.syncing=Z("eth_syncing");V.prototype.coinbase=Z("eth_coinbase");V.prototype.mining=Z("eth_mining");V.prototype.hashrate=Z("eth_hashrate");V.prototype.gasPrice=Z("eth_gasPrice");V.prototype.accounts=Z("eth_accounts");V.prototype.blockNumber=Z("eth_blockNumber");V.prototype.getBlockTransactionCountByHash=Z("eth_getBlockTransactionCountByHash");V.prototype.getBlockTransactionCountByNumber=Z("eth_getBlockTransactionCountByNumber");V.prototype.getUncleCountByBlockHash=Z("eth_getUncleCountByBlockHash");V.prototype.getUncleCountByBlockNumber=Z("eth_getUncleCountByBlockNumber");V.prototype.sign=Z("eth_sign");V.prototype.sendTransaction=Z("eth_sendTransaction");V.prototype.sendRawTransaction=Z("eth_sendRawTransaction");V.prototype.estimateGas=Z("eth_estimateGas");V.prototype.getBlockByHash=Z("eth_getBlockByHash");V.prototype.getBlockByNumber=Z("eth_getBlockByNumber");V.prototype.getTransactionByHash=Z("eth_getTransactionByHash");V.prototype.getTransactionByBlockHashAndIndex=Z("eth_getTransactionByBlockHashAndIndex");V.prototype.getTransactionByBlockNumberAndIndex=Z("eth_getTransactionByBlockNumberAndIndex");V.prototype.getTransactionReceipt=Z("eth_getTransactionReceipt");V.prototype.getUncleByBlockHashAndIndex=Z("eth_getUncleByBlockHashAndIndex");V.prototype.getUncleByBlockNumberAndIndex=Z("eth_getUncleByBlockNumberAndIndex");V.prototype.getCompilers=Z("eth_getCompilers");V.prototype.compileLLL=Z("eth_compileLLL");V.prototype.compileSolidity=Z("eth_compileSolidity");V.prototype.compileSerpent=Z("eth_compileSerpent");V.prototype.newFilter=Z("eth_newFilter");V.prototype.newBlockFilter=Z("eth_newBlockFilter");V.prototype.newPendingTransactionFilter=Z("eth_newPendingTransactionFilter");V.prototype.uninstallFilter=Z("eth_uninstallFilter");V.prototype.getFilterChanges=Z("eth_getFilterChanges");V.prototype.getFilterLogs=Z("eth_getFilterLogs");V.prototype.getLogs=Z("eth_getLogs");V.prototype.getWork=Z("eth_getWork");V.prototype.submitWork=Z("eth_submitWork");V.prototype.submitHashrate=Z("eth_submitHashrate");V.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(Hp(e),function(n,s){if(!n&&s.error&&(n=new Error("EthQuery - RPC Error - "+s.error.message)),n)return t(n);t(null,s.result)})};function Z(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Ur(e,t){return function(){const r=this;var n=[].slice.call(arguments),s=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},s)}}function Hp(e){return Fp({id:Dp(),jsonrpc:"2.0",params:[]},e)}const xa=(e,t,r,n)=>function(...s){const i=t.promiseModule;return new i((o,a)=>{t.multiArgs?s.push((...l)=>{t.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):t.errorFirst?s.push((l,u)=>{l?a(l):o(u)}):s.push(o),Reflect.apply(e,this===r?n:this,s)})},La=new WeakMap;var Up=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(o,a)=>{let c=La.get(o);if(c||(c={},La.set(o,c)),a in c)return c[a];const l=E=>typeof E=="string"||typeof a=="symbol"?a===E:E.test(a),u=Reflect.getOwnPropertyDescriptor(o,a),h=u===void 0||u.writable||u.configurable,b=(t.include?t.include.some(l):!t.exclude.some(l))&&h;return c[a]=b,b},s=new WeakMap,i=new Proxy(e,{apply(o,a,c){const l=s.get(o);if(l)return Reflect.apply(l,a,c);const u=t.excludeMain?o:xa(o,t,i,o);return s.set(o,u),Reflect.apply(u,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=s.get(c);if(l)return l;if(typeof c=="function"){const u=xa(c,t,i,o);return s.set(c,u),u}return c}});return i};const Wp=Lr.default;let Vp=class extends Wp{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};var yo=Vp;const zp=yo;let qp=class extends zp{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};var Gp=qp,Wr={minBlockRef:Jp,bnToHex:Kp,blockRefIsNumber:Qp,hexToInt:hn,incrementHexInt:Yp,intToHex:uu,unsafeRandomBytes:Xp};function Jp(...e){return Zp(e)[0]}function Zp(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:hn(t)-hn(r))}function Kp(e){return"0x"+e.toString(16)}function Qp(e){return e&&!["earliest","latest","pending"].includes(e)}function hn(e){return e==null?e:Number.parseInt(e,16)}function Yp(e){if(e==null)return e;const t=hn(e);return uu(t+1)}function uu(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function Xp(e){let t="0x";for(let r=0;r<e;r++)t+=Oa(),t+=Oa();return t}function Oa(){return Math.floor(Math.random()*16).toString(16)}const eb=jp,tb=Up,rb=Gp,{bnToHex:_m,hexToInt:nn,incrementHexInt:nb,minBlockRef:sb,blockRefIsNumber:ib}=Wr;let ob=class extends rb{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new eb(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=sb(this.params.toBlock,t),s=Object.assign({},this.params,{toBlock:n}),i=await this._fetchLogs(s);this.addInitialResults(i)}async update({oldBlock:t,newBlock:r}){const n=r;let s;t?s=nb(t):s=r;const i=Object.assign({},this.params,{fromBlock:s,toBlock:n}),a=(await this._fetchLogs(i)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(t){return await tb(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(nn(this.params.fromBlock)>=nn(t.blockNumber)||ib(this.params.toBlock)&&nn(this.params.toBlock)<=nn(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((s,i)=>{let o=t.topics[i];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(s)?s:[s];return a.includes(null)?!0:(a=a.map(u=>u.toLowerCase()),a.includes(o))})}};var ab=ob,wo=cb;async function cb({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=Pa(t),i=Pa(r)-n+1,o=Array(i).fill().map((c,l)=>n+l).map(lb);let a=await Promise.all(o.map(c=>db(e,"eth_getBlockByNumber",[c,!1])));return a=a.filter(c=>c!==null),a}function Pa(e){return e==null?e:Number.parseInt(e,16)}function lb(e){return e==null?e:"0x"+e.toString(16)}function ub(e,t){return new Promise((r,n)=>{e.sendAsync(t,(s,i)=>{s?n(s):i.error?n(i.error):i.result?r(i.result):n(new Error("Result was empty"))})})}async function db(e,t,r){for(let n=0;n<3;n++)try{return await ub(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(s){console.error(`provider.sendAsync failed: ${s.stack||s.message||s}`)}return null}const hb=yo,fb=wo,{incrementHexInt:gb}=Wr;let pb=class extends hb{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,s=gb(t),o=(await fb({provider:this.provider,fromBlock:s,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var bb=pb;const mb=yo,_b=wo,{incrementHexInt:yb}=Wr;let wb=class extends mb{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=yb(t),s=await _b({provider:this.provider,fromBlock:n,toBlock:r}),i=[];for(const o of s)i.push(...o.transactions);this.addResults(i)}};var vb=wb;const Eb=$l.Mutex,{createAsyncMiddleware:Sb,createScaffoldMiddleware:Rb}=ho,Cb=ab,kb=bb,Ib=vb,{intToHex:du,hexToInt:Ai}=Wr;var Ab=Tb;function Tb({blockTracker:e,provider:t}){let r=0,n={};const s=new Eb,i=Mb({mutex:s}),o=Rb({eth_newFilter:i(Ti(c)),eth_newBlockFilter:i(Ti(l)),eth_newPendingTransactionFilter:i(Ti(u)),eth_uninstallFilter:i(an(b)),eth_getFilterChanges:i(an(h)),eth_getFilterLogs:i(an(d))}),a=async({oldBlock:m,newBlock:y})=>{if(n.length===0)return;const C=await s.acquire();try{await Promise.all($t(n).map(async R=>{try{await R.update({oldBlock:m,newBlock:y})}catch(T){console.error(T)}}))}catch(R){console.error(R)}C()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=u,o.uninstallFilter=b,o.getFilterChanges=h,o.getFilterLogs=d,o.destroy=()=>{S()},o;async function c(m){const y=new Cb({provider:t,params:m});return await E(y),y}async function l(){const m=new kb({provider:t});return await E(m),m}async function u(){const m=new Ib({provider:t});return await E(m),m}async function h(m){const y=Ai(m),C=n[y];if(!C)throw new Error(`No filter for index "${y}"`);return C.getChangesAndClear()}async function d(m){const y=Ai(m),C=n[y];if(!C)throw new Error(`No filter for index "${y}"`);let R=[];return C.type==="log"&&(R=C.getAllResults()),R}async function b(m){const y=Ai(m),R=!!n[y];return R&&await _(y),R}async function E(m){const y=$t(n).length,C=await e.getLatestBlock();await m.initialize({currentBlock:C}),r++,n[r]=m,m.id=r,m.idHex=du(r);const R=$t(n).length;return p({prevFilterCount:y,newFilterCount:R}),r}async function _(m){const y=$t(n).length;delete n[m];const C=$t(n).length;p({prevFilterCount:y,newFilterCount:C})}async function S(){const m=$t(n).length;n={},p({prevFilterCount:m,newFilterCount:0})}function p({prevFilterCount:m,newFilterCount:y}){if(m===0&&y>0){e.on("sync",a);return}if(m>0&&y===0){e.removeListener("sync",a);return}}}function Ti(e){return an(async(...t)=>{const r=await e(...t);return du(r.id)})}function an(e){return Sb(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function Mb({mutex:e}){return t=>async(r,n,s,i)=>{(await e.acquire())(),t(r,n,s,i)}}function $t(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const Nb=Lr.default,{createAsyncMiddleware:$a,createScaffoldMiddleware:xb}=ho,Lb=Ab,{unsafeRandomBytes:Ob,incrementHexInt:Pb}=Wr,$b=wo;var Bb=Fb;function Fb({blockTracker:e,provider:t}){const r={},n=Lb({blockTracker:e,provider:t});let s=!1;const i=new Nb,o=xb({eth_subscribe:$a(a),eth_unsubscribe:$a(c)});return o.destroy=u,{events:i,middleware:o};async function a(h,d){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const b=h.params[0],E=Ob(16);let _;switch(b){case"newHeads":_=S({subId:E});break;case"logs":const m=h.params[1],y=await n.newLogFilter(m);_=p({subId:E,filter:y});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${b}"`)}r[E]=_,d.result=E;return;function S({subId:m}){const y={type:b,destroy:async()=>{e.removeListener("sync",y.update)},update:async({oldBlock:C,newBlock:R})=>{const T=R,U=Pb(C);(await $b({provider:t,fromBlock:U,toBlock:T})).map(Db).filter(Y=>Y!==null).forEach(Y=>{l(m,Y)})}};return e.on("sync",y.update),y}function p({subId:m,filter:y}){return y.on("update",R=>l(m,R)),{type:b,destroy:async()=>await n.uninstallFilter(y.idHex)}}}async function c(h,d){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const b=h.params[0],E=r[b];if(!E){d.result=!1;return}delete r[b],await E.destroy(),d.result=!0}function l(h,d){i.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:d}})}function u(){i.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];s=!0}}function Db(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(Vn,"__esModule",{value:!0});Vn.SubscriptionManager=void 0;const jb=Wc,Hb=Bb,Ba=()=>{};class Ub{constructor(t){const r=new jb.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:s}=Hb({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=s}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,Ba,Ba),r}destroy(){this.subscriptionMiddleware.destroy()}}Vn.SubscriptionManager=Ub;var hu=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.CoinbaseWalletProvider=void 0;const Wb=hu(fn),Vb=gu,X=_r,z=O,zb=Er,Fa=Le,sn=er,Ie=Qt,Mi=hu(t0),ur=Xt,qb=Gt,Gb=Vn,Da="DefaultChainId",ja="DefaultJsonRpcUrl";class Jb extends Vb.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new qb.FilterPolyfill(this),this._subscriptionManager=new Gb.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;const s=this.getChainId(),i=(0,z.prepend0x)(s.toString(16));this.emit("connect",{chainIdStr:i});const o=this._storage.getItem(Fa.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,z.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,u=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(u,Number(l))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,z.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(ja))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(ja,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(Da,r.toString(10)),((0,z.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,s,i,o){const c=await(await this.initializeRelay()).watchAsset(t,r,n,s,i,o?.toString()).promise;return(0,Ie.isErrorResponse)(c)?!1:!!c.result}async addEthereumChain(t,r,n,s,i,o){var a,c;if((0,z.ensureIntNumber)(t)===this.getChainId())return!1;const l=await this.initializeRelay(),u=l.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!u&&await l.requestEthereumAccounts().promise;const h=await l.addEthereumChain(t.toString(),r,i,n,s,o).promise;return(0,Ie.isErrorResponse)(h)?!1:(((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],t),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0)}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,Ie.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===X.standardErrorCodes.provider.unsupportedChain?X.standardErrors.provider.unsupportedChain():X.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const s=n.result;s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(ur.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?sn.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{const n=this._send(t,r);if(n instanceof Promise)return n.catch(s=>{throw(0,X.serializeError)(s,t)})}catch(n){throw(0,X.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){const s=t,i=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:s,params:i};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const s=t,i=r;return this._sendAsync(s,i)}if(Array.isArray(t))return t.map(i=>this._sendRequest(i));const n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,X.serializeError)(n,t)})}catch(n){return Promise.reject((0,X.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const s=r;this._sendMultipleRequestsAsync(t).then(i=>s(null,i)).catch(i=>s(i,null));return}const n=r;return this._sendRequestAsync(t).then(s=>n(null,s)).catch(s=>n(s,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,X.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,X.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw X.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw X.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw X.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const s=n===void 0?[]:n,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:s,jsonrpc:"2.0",id:i})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,z.ensureRegExpString)(t)).promise;if((0,Ie.isErrorResponse)(n))throw(0,X.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,X.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){const s=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,Ie.isErrorResponse)(s))throw(0,X.serializeError)(s.errorMessage,"generic");if(typeof s.result!="string")throw(0,X.serializeError)("result was not a string","generic");return s.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(ur.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?sn.Session.hash(this._relay.session.id):void 0});let n;try{const i=await this.initializeRelay();if(!(i instanceof zb.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await i.connectAndSignIn(t).promise,(0,Ie.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?X.standardErrors.provider.userRejectedRequest("User denied account authorization"):i}if(!n.result)throw new Error("accounts received is empty");const{accounts:s}=n.result;return this._setAddresses(s),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,Ie.isErrorResponse)(n))throw(0,X.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,X.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(s=>(0,z.ensureAddressString)(s));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Fa.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const s=this._handleSynchronousMethods(t);if(s!==void 0)return r({jsonrpc:"2.0",id:t.id,result:s});const i=this._handleAsynchronousFilterMethods(t);if(i!==void 0){i.then(a=>r(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(t);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:t.id,result:a.result})).catch(a=>n(a));return}}catch(s){return n(s)}this._handleAsynchronousMethods(t).then(s=>s&&r(Object.assign(Object.assign({},s),{id:t.id}))).catch(s=>n(s))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(i=>{var o;throw(i.code===X.standardErrorCodes.rpc.methodNotFound||i.code===X.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(ur.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?sn.Session.hash(this._relay.session.id):void 0})),i})}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,z.ensureAddressString)(t);return this._addresses.map(s=>(0,z.ensureAddressString)(s)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(ur.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,z.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,z.ensureAddressString)(t.to):null,s=t.value!=null?(0,z.ensureBN)(t.value):new Wb.default(0),i=t.data?(0,z.ensureBuffer)(t.data):G.alloc(0),o=t.nonce!=null?(0,z.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,z.ensureBN)(t.gasPrice):null,c=t.maxFeePerGas!=null?(0,z.ensureBN)(t.maxFeePerGas):null,l=t.maxPriorityFeePerGas!=null?(0,z.ensureBN)(t.maxPriorityFeePerGas):null,u=t.gas!=null?(0,z.ensureBN)(t.gas):null,h=t.chainId?(0,z.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:s,data:i,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw X.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw X.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,s){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(t,r,n,s).promise;if((0,Ie.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?X.standardErrors.provider.userRejectedRequest("User denied message signature"):i}}async _ethereumAddressFromSignedMessage(t,r,n){const i=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,Ie.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,z.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(Da);if(!t)return(0,z.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,z.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(ur.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?sn.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,Ie.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?X.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,z.ensureAddressString)(t[0]),n=(0,z.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,z.ensureBuffer)(t[0]),n=(0,z.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,z.ensureBuffer)(t[0]),n=(0,z.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,z.ensureBuffer)(t[0]),n=(0,z.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,Ie.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?X.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,z.ensureBuffer)(t[0]),s=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,Ie.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,Ie.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?X.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,z.ensureParsedJSONObject)(t[0]),n=(0,z.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const s=Mi.default.hashForSignTypedDataLegacy({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(s,n,!1,i)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,z.ensureAddressString)(t[0]),n=(0,z.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=Mi.default.hashForSignTypedData_v3({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,z.ensureAddressString)(t[0]),n=(0,z.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=Mi.default.hashForSignTypedData_v4({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,s,i;const o=t[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw X.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw X.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(s=o.blockExplorerUrls)!==null&&s!==void 0?s:[],o.chainName,(i=o.iconUrls)!==null&&i!==void 0?i:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw X.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw X.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw X.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw X.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:s,symbol:i,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,s,i,a,o,n)}}_eth_uninstallFilter(t){const r=(0,z.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,z.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,z.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}Wt.CoinbaseWalletProvider=Jb;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.RelayEventManager=void 0;const Zb=O;class Kb{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,Zb.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}as.RelayEventManager=Kb;Object.defineProperty(hr,"__esModule",{value:!0});hr.CoinbaseWalletSDK=void 0;const Qb=pn,Yb=bn,Ha=O,Xb=vn,em=Wt,tm=Er,rm=Nr,nm=as,sm=Ar,im=Sr,fu=Yt;class cs{constructor(t){var r,n,s;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const i=t.linkAPIUrl||Yb.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(s=t.reloadOnDisconnect)!==null&&s!==void 0?s:!0;const o=new URL(i),a=`${o.protocol}//${o.host}`;if(this._storage=new Xb.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",cs.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new nm.RelayEventManager;const c=(0,Ha.isMobileWeb)(),l=t.uiConstructor||(h=>c?new rm.MobileRelayUI(h):new sm.WalletLinkRelayUI(h)),u={linkAPIUrl:i,version:fu.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:l,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=c?new tm.MobileRelay(u):new im.WalletLinkRelay(u),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const s=this.coinbaseBrowser;if(s)return s;const i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||i.setConnectDisabled(!0),new em.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,Ha.getFavicon)();const s=this.walletExtension;s?this.isCipherProvider(s)||s.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,Qb.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}hr.CoinbaseWalletSDK=cs;cs.VERSION=fu.LIB_VERSION;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=hr,r=Wt;var n=hr;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var s=Wt;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return s.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Wa);const om=pu(Wa),Em=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"}));export{Em as i};
